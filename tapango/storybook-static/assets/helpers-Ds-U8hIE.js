import{j as ae,w as ai,C as _o,x as Lo,y as pr,z as ci,A as ui,G as di,B as fi,D as gr,E as Nr,F as Ho,H as hi,I as mi,J as vr,i as zo,K as Vo,L as Pt,m as Jt,M as jo,N as pi,l as Le,S as br,O as Wo,Q as gt,k as gi,V as vi,R as bi,P as Si,n as yi,U as xi,b as $o,W as Dr}from"./ThemeProvider-BSGpWKhi.js";import{r as d,g as Ri,R as k,a as Bo}from"./index-D_zSVikN.js";import{a as wi,s as Uo,Z as _r,b as Ci,c as Ti,p as Ln,d as Ei,e as Ii,r as Ai,U as Mi}from"./GorhomPortal-ChvPQWWZ.js";import{r as We}from"./index-VT2245Mq.js";import{j as x}from"./jsx-runtime-BjG_zV1W.js";import{s as he}from"./styled-mACW7C1C.js";import{g as Oi,Y as kt,f as Pi,X as Sr}from"./Stacks-DVCO43Vr.js";import{U as rr,_ as Ko,V as en,r as tn,s as Yo,e as ki,v as nn,D as or,y as Fi,o as qe}from"./index-CwZLkw8e.js";import{c as Ni}from"./async-storage-C2wsiYfb.js";var rn={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){e!==null&&(this._currentlyFocusedNode=e,document.activeElement!==e&&rr.focus(e))},blurTextInput(e){e!==null&&(this._currentlyFocusedNode=null,document.activeElement===e&&rr.blur(e))}},Di=()=>{rn.blurTextInput(rn.currentlyFocusedField())},_i=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function Lr(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}function Li(e,t){var n=Date.now()-e;return t>0&&n>=t}var Hi=d.forwardRef((e,t)=>{var n=e.onScroll,r=e.onTouchMove,o=e.onWheel,s=e.scrollEnabled,i=s===void 0?!0:s,l=e.scrollEventThrottle,c=l===void 0?0:l,a=e.showsHorizontalScrollIndicator,u=e.showsVerticalScrollIndicator,f=e.style,m=Ko(e,_i),h=d.useRef({isScrolling:!1,scrollLastTick:0}),g=d.useRef(null),p=d.useRef(null);function b(v){return I=>{i&&v&&v(I)}}function R(v){v.stopPropagation(),v.target===p.current&&(v.persist(),g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{y(v)},100),h.current.isScrolling?Li(h.current.scrollLastTick,c)&&w(v):S(v))}function S(v){h.current.isScrolling=!0,w(v)}function w(v){h.current.scrollLastTick=Date.now(),n&&n(Lr(v))}function y(v){h.current.isScrolling=!1,n&&n(Lr(v))}var T=a===!1||u===!1;return d.createElement(en,tn({},m,{onScroll:R,onTouchMove:b(r),onWheel:b(o),ref:ki(p,t),style:[f,!i&&Hr.scrollDisabled,T&&Hr.hideScrollbar]}))}),Hr=Yo.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function Sn(e){return function(){return e}}var ot=function(){};ot.thatReturns=Sn;ot.thatReturnsFalse=Sn(!1);ot.thatReturnsTrue=Sn(!0);ot.thatReturnsNull=Sn(null);ot.thatReturnsThis=function(){return this};ot.thatReturnsArgument=function(e){return e};var zi=ot,Vi=zi,ji=Vi,Wi=ji;const $i=Ri(Wi);var Bi=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],zr={},Ui=16;let Ki=class extends k.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=t=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=t=>{var n=t.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(t)},this.scrollResponderHandleResponderRelease=t=>{this.props.onResponderRelease&&this.props.onResponderRelease(t);var n=rn.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&t.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(t),rn.blurTextInput(n))},this.scrollResponderHandleScroll=t=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(t)},this.scrollResponderHandleResponderGrant=t=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(t),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=t=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(t)},this.scrollResponderHandleScrollEndDrag=t=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(t)},this.scrollResponderHandleMomentumScrollBegin=t=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(t)},this.scrollResponderHandleMomentumScrollEnd=t=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(t)},this.scrollResponderHandleTouchStart=t=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(t)},this.scrollResponderHandleTouchMove=t=>{this.props.onTouchMove&&this.props.onTouchMove(t)},this.scrollResponderIsAnimating=()=>{var t=Date.now(),n=t-this.lastMomentumScrollEndTime,r=n<Ui||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(t,n,r)=>{if(typeof t=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var o=t||zr;t=o.x,n=o.y,r=o.animated}var s=this.getScrollableNode(),i=t||0,l=n||0;s!=null&&(typeof s.scroll=="function"?s.scroll({top:l,left:i,behavior:r?"smooth":"auto"}):(s.scrollLeft=i,s.scrollTop=l))},this.scrollResponderZoomTo=(t,n)=>{nn("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(t,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,rr.measureLayout(t,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(t,n,r,o)=>{var s=or.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var i=n-s+o+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(i=Math.max(0,i)),this.scrollResponderScrollTo({x:0,y:i,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=t=>{this.keyboardWillOpenTo=t,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(t)},this.scrollResponderKeyboardWillHide=t=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(t)},this.scrollResponderKeyboardDidShow=t=>{t&&(this.keyboardWillOpenTo=t),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(t)},this.scrollResponderKeyboardDidHide=t=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(t)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(t,n,r)=>{if(typeof t=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var o=t||zr;n=o.x,t=o.y,r=o.animated}this.scrollResponderScrollTo({x:n||0,y:t||0,animated:r!==!1})},this.scrollToEnd=t=>{var n=(t&&t.animated)!==!1,r=this.props.horizontal,o=this.getScrollableNode(),s=r?o.scrollWidth:0,i=r?0:o.scrollHeight;this.scrollResponderScrollTo({x:s,y:i,animated:n})},this._handleContentOnLayout=t=>{var n=t.nativeEvent.layout,r=n.width,o=n.height;this.props.onContentSizeChange(r,o)},this._handleScroll=t=>{this.props.keyboardDismissMode==="on-drag"&&Di(),this.scrollResponderHandleScroll(t)},this._setInnerViewRef=t=>{this._innerViewRef=t},this._setScrollNodeRef=t=>{this._scrollNodeRef=t,t!=null&&(t.getScrollResponder=this.getScrollResponder,t.getInnerViewNode=this.getInnerViewNode,t.getInnerViewRef=this.getInnerViewRef,t.getNativeScrollRef=this.getNativeScrollRef,t.getScrollableNode=this.getScrollableNode,t.scrollTo=this.scrollTo,t.scrollToEnd=this.scrollToEnd,t.flashScrollIndicators=this.flashScrollIndicators,t.scrollResponderZoomTo=this.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=Fi(this.props.forwardedRef);n(t)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){$i(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(t){console.error("Error measuring text field: ",t)}render(){var t=this.props,n=t.contentContainerStyle,r=t.horizontal,o=t.onContentSizeChange,s=t.refreshControl,i=t.stickyHeaderIndices,l=t.pagingEnabled;t.forwardedRef,t.keyboardDismissMode,t.onScroll;var c=t.centerContent,a=Ko(t,Bi),u={};o&&(u={onLayout:this._handleContentOnLayout});var f=!r&&Array.isArray(i),m=f||l?k.Children.map(this.props.children,(w,y)=>{var T=f&&i.indexOf(y)>-1;return w!=null&&(T||l)?k.createElement(en,{style:[T&&Ke.stickyHeader,l&&Ke.pagingEnabledChild]},w):w}):this.props.children,h=k.createElement(en,tn({},u,{children:m,collapsable:!1,ref:this._setInnerViewRef,style:[r&&Ke.contentContainerHorizontal,c&&Ke.contentContainerCenterContent,n]})),g=r?Ke.baseHorizontal:Ke.baseVertical,p=r?Ke.pagingEnabledHorizontal:Ke.pagingEnabledVertical,b=qe(qe({},a),{},{style:[g,l&&p,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),R=Hi;nn(R!==void 0,"ScrollViewClass must not be undefined");var S=k.createElement(R,tn({},b,{ref:this._setScrollNodeRef}),h);return s?k.cloneElement(s,{style:b.style},S):S}};var Vr={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},Ke=Yo.create({baseVertical:qe(qe({},Vr),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:qe(qe({},Vr),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),Go=k.forwardRef((e,t)=>k.createElement(Ki,tn({},e,{forwardedRef:t})));Go.displayName="ScrollView";class Yi{constructor(t){var n=t.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(t){this._getCurrentQueue().push(t)}enqueueTasks(t){t.forEach(n=>this.enqueue(n))}cancelTasks(t){this._queueStack=this._queueStack.map(n=>qe(qe({},n),{},{tasks:n.tasks.filter(r=>t.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var t=this._getCurrentQueue();if(t.length){var n=t.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(nn(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var t=this._queueStack.length-1,n=this._queueStack[t];return n.popable&&n.tasks.length===0&&t>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(t){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,o=this._queueStack[r];t.gen().then(()=>{o.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(s=>{setTimeout(()=>{throw s.message="TaskQueue: Error resolving Promise in task "+t.name+": "+s.message,s},0)})}}class Gi{constructor(){this._registry={}}addListener(t,n,r){var o=qi(this._registry,t),s={context:r,listener:n,remove(){o.delete(s)}};return o.add(s),s}emit(t){var n=this._registry[t];if(n!=null){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];for(var i=0,l=[...n];i<l.length;i++){var c=l[i];c.listener.apply(c.context,o)}}}removeAllListeners(t){t==null?this._registry={}:delete this._registry[t]}listenerCount(t){var n=this._registry[t];return n==null?0:n.size}}function qi(e,t){var n=e[t];return n==null&&(n=new Set,e[t]=n),n}var Xi=function(t,n){return setTimeout(()=>{var r=Date.now();t({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},Zi=Ni&&typeof window.requestIdleCallback<"u",Qi=Zi?window.requestIdleCallback:Xi,on=new Gi,sn={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(e){var t=[],n=new Promise(r=>{wt(),e&&t.push(e),t.push({run:r,name:"resolve "+(e&&e.name||"?")}),an.enqueueTasks(t)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{an.cancelTasks(t)}}},createInteractionHandle(){wt();var e=++Ji;return ln.add(e),e},clearInteractionHandle(e){nn(!!e,"Must provide a handle to clear."),wt(),ln.delete(e),sr.add(e)},addListener:on.addListener.bind(on),setDeadline(e){cn=e}},Vt=new Set,ln=new Set,sr=new Set,an=new Yi({onMoreTasks:wt}),qt=0,Ji=0,cn=-1;function wt(){qt||(cn>0?qt=setTimeout(jr):qt=Qi(jr))}function jr(){qt=0;var e=Vt.size;ln.forEach(r=>Vt.add(r)),sr.forEach(r=>Vt.delete(r));var t=Vt.size;if(e!==0&&t===0?on.emit(sn.Events.interactionComplete):e===0&&t!==0&&on.emit(sn.Events.interactionStart),t===0){for(var n=Date.now();an.hasTasksToProcess();)if(an.processNext(),cn>0&&Date.now()-n>=cn){wt();break}}ln.clear(),sr.clear()}var Ae={centroidDimension:function(t,n,r,o){var s=t.touchBank,i=0,l=0,c=t.numberActiveTouches===1?t.touchBank[t.indexOfSingleActiveTouch]:null;if(c!==null)c.touchActive&&c.currentTimeStamp>n&&(i+=o&&r?c.currentPageX:o&&!r?c.currentPageY:!o&&r?c.previousPageX:c.previousPageY,l=1);else for(var a=0;a<s.length;a++){var u=s[a];if(u!=null&&u.touchActive&&u.currentTimeStamp>=n){var f=void 0;o&&r?f=u.currentPageX:o&&!r?f=u.currentPageY:!o&&r?f=u.previousPageX:f=u.previousPageY,i+=f,l++}}return l>0?i/l:Ae.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,n){return Ae.centroidDimension(t,n,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,n){return Ae.centroidDimension(t,n,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,n){return Ae.centroidDimension(t,n,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,n){return Ae.centroidDimension(t,n,!1,!1)},currentCentroidX:function(t){return Ae.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return Ae.centroidDimension(t,0,!1,!0)},noCentroid:-1},Wr=Ae.currentCentroidXOfTouchesChangedAfter,$r=Ae.currentCentroidYOfTouchesChangedAfter,el=Ae.previousCentroidXOfTouchesChangedAfter,tl=Ae.previousCentroidYOfTouchesChangedAfter,nl=Ae.currentCentroidX,rl=Ae.currentCentroidY,at={_initializeGestureState(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=Wr(t,e._accountsForMovesUpTo),e.moveY=$r(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=el(t,n),o=Wr(t,n),s=tl(t,n),i=$r(t,n),l=e.dx+(o-r),c=e.dy+(i-s),a=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(l-e.dx)/a,e.vy=(c-e.dy)/a,e.dx=l,e.dy=c,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0},r={onStartShouldSetResponder(o){return e.onStartShouldSetPanResponder==null?!1:e.onStartShouldSetPanResponder(o,n)},onMoveShouldSetResponder(o){return e.onMoveShouldSetPanResponder==null?!1:e.onMoveShouldSetPanResponder(o,n)},onStartShouldSetResponderCapture(o){return o.nativeEvent.touches.length===1&&at._initializeGestureState(n),n.numberActiveTouches=o.touchHistory.numberActiveTouches,e.onStartShouldSetPanResponderCapture!=null?e.onStartShouldSetPanResponderCapture(o,n):!1},onMoveShouldSetResponderCapture(o){var s=o.touchHistory;return n._accountsForMovesUpTo===s.mostRecentTimeStamp?!1:(at._updateGestureStateOnMove(n,s),e.onMoveShouldSetPanResponderCapture?e.onMoveShouldSetPanResponderCapture(o,n):!1)},onResponderGrant(o){return t.handle||(t.handle=sn.createInteractionHandle()),t.timeout&&ol(t),t.shouldCancelClick=!0,n.x0=nl(o.touchHistory),n.y0=rl(o.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(o,n),e.onShouldBlockNativeResponder==null?!0:e.onShouldBlockNativeResponder(o,n)},onResponderReject(o){jt(t,e.onPanResponderReject,o,n)},onResponderRelease(o){jt(t,e.onPanResponderRelease,o,n),Br(t),at._initializeGestureState(n)},onResponderStart(o){var s=o.touchHistory;n.numberActiveTouches=s.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(o,n)},onResponderMove(o){var s=o.touchHistory;n._accountsForMovesUpTo!==s.mostRecentTimeStamp&&(at._updateGestureStateOnMove(n,s),e.onPanResponderMove&&e.onPanResponderMove(o,n))},onResponderEnd(o){var s=o.touchHistory;n.numberActiveTouches=s.numberActiveTouches,jt(t,e.onPanResponderEnd,o,n)},onResponderTerminate(o){jt(t,e.onPanResponderTerminate,o,n),Br(t),at._initializeGestureState(n)},onResponderTerminationRequest(o){return e.onPanResponderTerminationRequest==null?!0:e.onPanResponderTerminationRequest(o,n)},onClickCapture:o=>{t.shouldCancelClick===!0&&(o.stopPropagation(),o.preventDefault())}};return{panHandlers:r,getInteractionHandle(){return t.handle}}}};function jt(e,t,n,r){e.handle&&(sn.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,r)}function ol(e){clearTimeout(e.timeout)}function Br(e){e.timeout=setTimeout(()=>{e.shouldCancelClick=!1},250)}const sl=typeof window>"u",il=()=>{};function ll(){return sl?il:k.useReducer(e=>Math.random(),0)[1]}const al=k.createContext({});function qo(e){if(typeof document>"u")return d.useMemo(()=>e(),[]);const t=d.useRef(void 0);return t.current||(t.current={v:e()}),t.current.v}const Hn=d.memo(({children:e,initial:t,isPresent:n,onExitComplete:r,exitVariant:o,enterVariant:s,enterExitVariant:i,presenceAffectsLayout:l,custom:c})=>{const a=qo(cl),u=d.useId()||"",f=d.useMemo(()=>({id:u,initial:t,isPresent:n,custom:c,exitVariant:o,enterVariant:s,enterExitVariant:i,onExitComplete:()=>{a.set(u,!0);for(const m of a.values())if(!m)return;r==null||r()},register:()=>(a.set(u,!1),()=>a.delete(u))}),l?void 0:[n,o,s]);return d.useMemo(()=>{a.forEach((m,h)=>a.set(h,!1))},[n]),d.useEffect(()=>{!n&&!a.size&&(r==null||r())},[n]),x.jsx(wi.Provider,{value:f,children:e})});function cl(){return new Map}const ct=e=>e.key||"";function ul(e,t){e.forEach(n=>{const r=ct(n);t.set(r,n)})}function dl(e){const t=[];return d.Children.forEach(e,n=>{d.isValidElement(n)&&t.push(n)}),t}const yr=({children:e,enterVariant:t,exitVariant:n,enterExitVariant:r,initial:o=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:l=!0,custom:c,passThrough:a})=>{let u=d.useContext(al).forceRender??ll();const f=dl(e),m=d.useRef(f),h=d.useRef(new Map).current,g=d.useRef(new Set).current;ul(f,h);const p=d.useRef(!0);if(a)return x.jsx(x.Fragment,{children:e});if(ae(()=>{p.current=!1},[]),p.current)return x.jsx(x.Fragment,{children:f.map(y=>x.jsx(Hn,{isPresent:!0,enterExitVariant:r,exitVariant:n,enterVariant:t,initial:o?void 0:!1,presenceAffectsLayout:l,custom:c,children:y},ct(y)))});let b=[...f];const R=m.current.map(ct),S=f.map(ct),w=R.length;for(let y=0;y<w;y++){const T=R[y];S.indexOf(T)===-1?g.add(T):g.delete(T)}return i&&g.size&&(b=[]),g.forEach(y=>{if(S.indexOf(y)!==-1)return;const T=h.get(y);if(!T)return;const v=R.indexOf(y),I=x.jsx(Hn,{isPresent:!1,onExitComplete:()=>{h.delete(y),g.delete(y);const M=m.current.findIndex(O=>O.key===y);m.current.splice(M,1),g.size||(m.current=f,u(),s==null||s())},presenceAffectsLayout:l,enterExitVariant:r,enterVariant:t,exitVariant:n,custom:c,children:T},ct(T));b.splice(v,0,I)}),b=b.map(y=>{const T=y.key;return g.has(T)?y:x.jsx(Hn,{isPresent:!0,exitVariant:n,enterVariant:t,enterExitVariant:r,presenceAffectsLayout:l,custom:c,children:y},ct(y))}),m.current=b,x.jsx(x.Fragment,{children:g.size?b:b.map(y=>d.cloneElement(y))})};yr.displayName="AnimatePresence";const Ur=Symbol(),Et=(e,t)=>{const n=(()=>{if(e[Ur]){const r=k.forwardRef((o,s)=>k.createElement(e,{...o,ref:s}));for(const o in e){const s=e[o];r[o]=s&&typeof s=="object"?{...s}:s}}return e})();return Object.assign(n,t),n[Ur]=!0,n};function Xo(e,t,n){const r=d.useRef(t??e);return ae(()=>{r.current=e}),d.useCallback(n?(...o)=>{var s;return(s=r.current)==null?void 0:s.apply(null,o)}:()=>r.current,[])}function He(e){return Xo(e,fl,!0)}const fl=()=>{throw new Error("Cannot call an event handler while rendering.")},hl=e=>e();function It({prop:e,defaultProp:t,onChange:n,strategy:r="prop-wins",preventUpdate:o,transition:s}){const[i,l]=d.useState(e??t),c=d.useRef(i),a=r==="prop-wins"&&e!==void 0,u=a?e:i,f=He(n||ml),m=s?Uo:hl;d.useEffect(()=>{e!==void 0&&(c.current=e,m(()=>{l(e)}))},[e]),d.useEffect(()=>{a||i!==c.current&&(c.current=i,f(i))},[f,i,a]);const h=He(g=>{if(!o)if(a){const p=typeof g=="function"?g(c.current):g;f(p)}else m(()=>{l(g)})});return[u,h]}const ml=()=>{},pl={forceClassName:!0,deopt:!0,needsUpdate:()=>!0},gl={current:new Set([""])};function Zo(){var e;return((e=ai(pl,!1,gl))==null?void 0:e.name)||""}const Qo=()=>k.useContext(_o),Jo=()=>pr()?Lo:!1;function vl(e,t){const[n,r]=bl(e,{...t,noExpand:!0,noNormalize:!0,resolveValues:"none"});return{...n,...r}}function bl(e,t){var g;const n=((g=t==null?void 0:t.forComponent)==null?void 0:g.staticConfig)??ci.staticConfig,[r,o]=ui({componentName:n.componentName,name:"theme"in e?e.theme:void 0,inverse:"themeInverse"in e?e.themeInverse:void 0,needsUpdate(){return!0}}),s=k.useContext(_o),i=k.useContext(di),{state:l,disabled:c,setStateShallow:a}=fi(e,s.animationDriver,n,gr()),u=t!=null&&t.noMedia?Nr:Ho(),f=hi(e,n,r,(o==null?void 0:o.name)||"",l,{isAnimated:!1,mediaState:u,noSkip:!0,noMergeStyle:!0,noClass:!0,resolveValues:"auto",...t},null,s,i),{mediaGroups:m,pseudoGroups:h}=f||{};return ae(()=>{if(!c){if(l.unmounted){a({unmounted:!1});return}if(i)return mi({groupContext:i,setStateShallow:a,mediaGroups:m,pseudoGroups:h})}},[c,i,h?Object.keys([...h]).join(""):0,m?Object.keys([...m]).join(""):0]),[(f==null?void 0:f.viewProps)||{},(f==null?void 0:f.style)||{},r,Nr]}const Sl={shift:0,bounds:[0]},yl=(e,t)=>ts("size",e,t),es=(e,t)=>ts("space",e,t),Wt={},zn={},Vn={},jn={},xl=(e,t,n=Sl)=>{var m,h;const r=vr({prefixed:!0})[e];if(!(e in Wt)){Vn[e]=[],Wt[e]=[],jn[e]=[],zn[e]=[];const g=Object.keys(r).map(b=>r[b]).sort((b,R)=>b.val-R.val);for(const b of g)Vn[e].push(b.key),Wt[e].push(b);const p=g.filter(b=>!b.key.endsWith(".5"));for(const b of p)jn[e].push(b.key),zn[e].push(b)}const o=typeof t=="string",s=(n.excludeHalfSteps?o?jn:zn:o?Vn:Wt)[e],i=((m=n.bounds)==null?void 0:m[0])??0,l=((h=n.bounds)==null?void 0:h[1])??s.length-1,c=s.indexOf(t);let a=n.shift||0;a&&(t==="$true"||zo(t)&&t.name==="true")&&(a+=a>0?1:-1);const u=Math.min(l,Math.max(i,c+a)),f=s[u];return(typeof f=="string"?r[f]:f)||r.$true},ts=xl,Rl={true:(e,t)=>Oi(t.props.size,t)},wl=(e,{props:t})=>({borderWidth:typeof e=="number"?e:1,borderColor:"$borderColor",...t.hoverTheme&&{hoverStyle:{borderColor:"$borderColorHover"}},...t.pressTheme&&{pressStyle:{borderColor:"$borderColorPress"}},...t.focusTheme&&{focusStyle:{borderColor:"$borderColorFocus"}}}),Cl={true:(e,t)=>{const{tokens:n,props:r}=t;return{padding:n.space[r.size]||n.space.$true}}},Tl={true:(e,t)=>{const{tokens:n,props:r}=t;return{borderRadius:n.radius[r.size]||n.radius.$true}}},Kr={borderRadius:1e5,padding:0},El={true:(e,{props:t,tokens:n})=>{if(!("size"in t))return Kr;const r=typeof t.size=="number"?t.size:n.size[t.size];return{...Kr,width:r,height:r,maxWidth:r,maxHeight:r,minWidth:r,minHeight:r}}},Il={true:{hoverStyle:{backgroundColor:"$backgroundHover",borderColor:"$borderColorHover"}},false:{}},Al={true:{cursor:"pointer",pressStyle:{backgroundColor:"$backgroundPress",borderColor:"$borderColorPress"}},false:{}},Ml={true:{focusStyle:{backgroundColor:"$backgroundFocus",borderColor:"$borderColorFocus"}},false:{}},St={backgroundColor:"transparent",borderColor:"transparent",shadowColor:"transparent",hoverStyle:{borderColor:"transparent"}},Ol={backgrounded:{true:{backgroundColor:"$background"}},radiused:Tl,hoverTheme:Il,pressTheme:Al,focusTheme:Ml,circular:El,padded:Cl,elevate:Rl,bordered:wl,transparent:{true:{backgroundColor:"transparent"}},chromeless:{true:St,all:{...St,hoverStyle:St,pressStyle:St,focusStyle:St}}},yn=he(kt,{variants:Ol}),xn=(e="$true",{font:t,fontFamily:n,props:r})=>{var h,g,p,b,R,S;if(!t)return{fontSize:e};const o=e==="$true"?Pl(t):e,s={},i=t.size[o],l=(h=t.lineHeight)==null?void 0:h[o],c=(g=t.weight)==null?void 0:g[o],a=(p=t.letterSpacing)==null?void 0:p[o],u=(b=t.transform)==null?void 0:b[o],f=r.fontStyle??((R=t.style)==null?void 0:R[o]),m=r.color??((S=t.color)==null?void 0:S[o]);return f&&(s.fontStyle=f),u&&(s.textTransform=u),n&&(s.fontFamily=n),c&&(s.fontWeight=c),a&&(s.letterSpacing=a),i&&(s.fontSize=i),l&&(s.lineHeight=l),m&&(s.color=m),s};he(Vo,{name:"SizableText",fontFamily:"$body",variants:{size:{"...fontSize":xn}},defaultVariants:{size:"$true"}});const Wn=new WeakMap;function Pl(e){if(typeof e=="object"&&Wn.has(e))return Wn.get(e);const t="$true"in e.size?e.size:vr().size,n=t.$true,r=n?Object.keys(t).find(o=>o!=="$true"&&t[o].val===n.val):null;return!n||!r?Object.keys(e.size)[3]:(Wn.set(e,r),r)}var kl={};const vt=he(Vo,{name:"SizableText",fontFamily:"$body",variants:{unstyled:{false:{size:"$true",color:"$color"}},size:xn},defaultVariants:{unstyled:kl.TAMAGUI_HEADLESS==="1"}});vt.staticConfig.variants.fontFamily={"...":(e,t)=>{const n=t.props.size,r=t.props.fontSize,o=n==="$true"&&r?r:t.props.size||"$true";return xn(o,t)}};const Fl=he(vt,{name:"Paragraph",tag:"p",userSelect:"auto",color:"$color",size:"$true",whiteSpace:"normal"});function Nl(e,t,n){const{children:r,textProps:o,size:s,noTextWrap:i,color:l,fontFamily:c,fontSize:a,fontWeight:u,letterSpacing:f,textAlign:m,fontStyle:h,maxFontSizeMultiplier:g}=t;if(i||!r)return[r];const p={...n};return l&&(p.color=l),c&&(p.fontFamily=c),a&&(p.fontSize=a),u&&(p.fontWeight=u),f&&(p.letterSpacing=f),m&&(p.textAlign=m),s&&(p.size=s),h&&(p.fontStyle=h),g&&(p.maxFontSizeMultiplier=g),k.Children.toArray(r).map((b,R)=>typeof b=="string"?x.jsx(e,{...p,...o,children:b},R):b)}const ns=({children:e,zIndex:t})=>{const n=d.useContext(_r);let r=x.jsx(_r.Provider,{value:n+1,children:e});return typeof t<"u"&&(r=x.jsx(Ci.Provider,{value:t,children:r})),r},Dl=e=>{!e.hostName&&!e.passThrough&&console.warn("No hostName");const t=Ti.get(e.hostName||""),[n,r]=d.useState(t);return!e.passThrough&&t&&n!==t&&r(t),ae(()=>{var s,i;if(!e.hostName||n)return;const o=l=>{r(l)};return(s=Ln)[i=e.hostName]||(s[i]=new Set),Ln[e.hostName].add(o),()=>{var l;(l=Ln[e.hostName])==null||l.delete(o)}},[n]),e.passThrough?e.children:n?We.createPortal(e.children,n):null},rs=Pt({Contents:null,scopeName:"",portalName:"",platform:null,setPlatform:e=>{},when:null,setChildren:null,setWhen:()=>{}}),un=d.createContext(""),_l=({children:e,...t})=>{const n=t.scopeName||"",r=d.useContext(un);return x.jsx(un.Provider,{value:r||t.lastScope||"",children:x.jsx(rs.Provider,{scope:n,lastScope:r||t.lastScope,...t,children:e})})},Rn=e=>{const t=d.useContext(un),n=e??t;return rs.useStyledContext(n)},yt=new Map,Ll=({children:e,Contents:t,scope:n,portal:r})=>{const o=d.useId(),s=`AdaptPortal${n}${o}`,i=d.useMemo(()=>{if(t)return t;if(yt.has(s))return yt.get(s);const h=()=>x.jsx(Ei,{name:s,forwardProps:typeof r=="boolean"||r==null?void 0:r.forwardProps},o);return yt.set(s,h),h},[s,t]);ae(()=>(yt.set(s,i),()=>{yt.delete(s)}),[s]);const[l,c]=k.useState(null),[a,u]=k.useState(null),[f,m]=k.useState(null);return x.jsx(un.Provider,{value:n,children:x.jsx(_l,{Contents:i,when:l,platform:a,setPlatform:u,setWhen:c,setChildren:m,portalName:s,scopeName:n,children:e})})},os=({scope:e,...t})=>{const n=Rn(e);if(!(n!=null&&n.Contents))throw new Error("tamagui.dev/docs/intro/errors#warning-002");return k.createElement(n.Contents,{...t,key:"stable"})};os.shouldForwardSpace=!0;const Hl=Et(function(e){const{platform:t,when:n,children:r,scope:o}=e,s=Rn(o),i=ss(e);ae(()=>{var c,a;(c=s==null?void 0:s.setWhen)==null||c.call(s,n||i),(a=s==null?void 0:s.setPlatform)==null||a.call(s,t||null)},[n,t,i,s.setWhen,s.setPlatform]),ae(()=>()=>{var c,a;(c=s==null?void 0:s.setWhen)==null||c.call(s,null),(a=s==null?void 0:s.setPlatform)==null||a.call(s,null)},[]);let l;if(typeof r=="function"){const c=s==null?void 0:s.Contents;l=r(c?x.jsx(c,{}):null)}else l=r;return ae(()=>{typeof r=="function"&&l!==void 0&&(s==null||s.setChildren(l))},[l]),x.jsx(ns,{children:i?l:null})},{Contents:os}),zl=e=>{const t=Ft(e.scope),{portalName:n}=Rn(e.scope);return x.jsx(Dl,{passThrough:!t,hostName:n,children:e.children})},ss=({when:e,platform:t})=>{const n=Ho();if(e==null&&t==null)return!1;if(e===!0)return!0;let r=!1;return t==="touch"?r=Lo:t==="native"?r=!Jt:t==="web"?r=Jt:t==="ios"?r=jo:t==="android"&&(r=pi),t&&r==!1?!1:(e&&typeof e=="string"&&(r=n[e]),r)},Ft=e=>{const t=Rn(e);return ss(t)};function Ed(e,t){const n=d.createContext(t);function r(s){const{children:i,...l}=s,c=d.useMemo(()=>l,Object.values(l));return x.jsx(n.Provider,{value:c,children:i})}function o(s){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function is(e,t=[]){let n=[];function r(s,i){const l=d.createContext(i),c=n.length;n=[...n,i];function a(f){var R;const{scope:m,children:h,...g}=f,p=((R=m==null?void 0:m[e])==null?void 0:R[c])||l,b=d.useMemo(()=>g,Object.values(g));return x.jsx(p.Provider,{value:b,children:h})}function u(f,m,h){var R;const g=((R=m==null?void 0:m[e])==null?void 0:R[c])||l,p=d.useContext(g);if(p)return p;if(i!==void 0)return i;const b=`\`${f}\` must be used within \`${s}\``;if(h!=null&&h.fallback)return(h==null?void 0:h.warn)!==!1&&console.warn(b),h.fallback;throw new Error(b)}return[a,u]}const o=()=>{const s=n.map(i=>d.createContext(i));return function(i){const l=(i==null?void 0:i[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,Vl(o,...t)]}function Vl(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const a=l(o)[`__scope${c}`];return{...i,...a}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}class xr extends Error{constructor(t=""){super(t),this.name="AbortError"}}function jl(e,t=[]){Wl(d.useEffect,e,t)}function Wl(e,t,n=[]){e(()=>{const r=new AbortController,o=r.signal;try{const i=t(o,...n);Promise.resolve(i).then(async l=>{if(l&&typeof l=="function"){if(o.aborted)return l();o.addEventListener("abort",l)}}).catch(s)}catch(i){s(i)}function s(i){if(i instanceof xr||typeof i=="object"&&i.name==="AbortError")return null;throw i}return()=>{o.aborted||r.abort()}},n)}const $t=async(e,t)=>{await new Promise(n=>setTimeout(n,e)),t==null||t.aborted},$l=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,Bl=()=>new Promise(e=>{$l(e)}),ls=async(e,t)=>{const{max:n,min:r,fully:o}=t||{},s=o?Ul:Bl;if(n&&r&&r<n?await Promise.race([Promise.all([s(),$t(r)]),$t(n)]):n?await Promise.race([s(),$t(n)]):r?await Promise.all([s(),$t(r)]):await s(),e==null?void 0:e.aborted)throw new xr},Ul=async e=>{for(;;){const t=Date.now();if(await ls(e),Date.now()-t<15)break;if(e!=null&&e.aborted)throw new xr}},as="FocusScopeController",[Kl,Id]=is(as),[Yl,Gl]=Kl(as);function ql(e){const{__scopeFocusScope:t,children:n,enabled:r,loop:o,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,forceUnmount:c,focusOnIdle:a}=e,u=He(i),f=He(l),m=d.useMemo(()=>({enabled:r,loop:o,trapped:s,onMountAutoFocus:u,onUnmountAutoFocus:f,forceUnmount:c,focusOnIdle:a}),[r,o,s,u,f,c,a]);return x.jsx(Yl,{scope:t,...m,children:n})}const Xl=ql,$n="focusScope.autoFocusOnMount",Bn="focusScope.autoFocusOnUnmount",Yr={bubbles:!1,cancelable:!0},Zl=d.forwardRef(function({__scopeFocusScope:e,...t},n){const r=Gl("FocusScope",e,{warn:!1,fallback:{}}),o={...t,enabled:r.enabled??t.enabled,loop:r.loop??t.loop,trapped:r.trapped??t.trapped,onMountAutoFocus:r.onMountAutoFocus??t.onMountAutoFocus,onUnmountAutoFocus:r.onUnmountAutoFocus??t.onUnmountAutoFocus,forceUnmount:r.forceUnmount??t.forceUnmount,focusOnIdle:r.focusOnIdle??t.focusOnIdle},s=Ql(o,n);return typeof o.children=="function"?x.jsx(x.Fragment,{children:o.children(s)}):d.cloneElement(d.Children.only(o.children),s)});function Ql(e,t){const{loop:n=!1,enabled:r=!0,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,forceUnmount:l,focusOnIdle:c=!0,children:a,...u}=e,[f,m]=d.useState(null),h=He(s),g=He(i),p=d.useRef(null),b=d.useCallback(v=>{Uo(()=>{m(v)})},[m]),R=Le(t,b),S=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(!r||!o)return;const v=new AbortController;function I(E){if(S.paused||!f)return;const D=E.target;f.contains(D)?(D==null||D.addEventListener("blur",O,{signal:v.signal}),p.current=D):et(p.current,{select:!0})}function M(E){v.abort(),!(S.paused||!f)&&(f.contains(E.relatedTarget)||et(p.current,{select:!0}))}function O(){p.current=f}return document.addEventListener("focusin",I),document.addEventListener("focusout",M),()=>{v.abort(),document.removeEventListener("focusin",I),document.removeEventListener("focusout",M)}},[o,l,f,S.paused]),jl(async v=>{if(!r||!f||l)return;qr.add(S);const I=document.activeElement;if(!f.contains(I)){const M=new CustomEvent($n,Yr);if(f.addEventListener($n,h),f.dispatchEvent(M),!M.defaultPrevented){c&&await ls(v,typeof c=="object"?c:{max:200,min:typeof c=="number"?c:16});const O=cs(f),E=ra(O).filter(D=>!us(D,{upTo:f}));Jl(E,{select:!0}),E.length>0?p.current=E[0]:p.current=f,document.activeElement===I&&E.length===0&&et(f)}}return()=>{f.removeEventListener($n,h);const M=new CustomEvent(Bn,Yr);f.addEventListener(Bn,g),f.dispatchEvent(M),M.defaultPrevented||et(I??document.body,{select:!0}),f.removeEventListener(Bn,g),qr.remove(S)}},[r,f,l,h,g,S,c]);const w=d.useCallback(v=>{if(!o||!n||S.paused||!r||!f)return;const I=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,M=document.activeElement;if(I&&M){const[O,E]=ea(f);O&&E?!v.shiftKey&&M===E?(v.preventDefault(),n&&et(O,{select:!0})):v.shiftKey&&M===O&&(v.preventDefault(),n&&et(E,{select:!0})):M===f&&v.preventDefault()}},[n,o,S.paused,r,f]);d.useEffect(()=>{if(!f||!o||!n||!r)return;const v=I=>{I.key==="Tab"&&w(I)};return f.addEventListener("keydown",v,!0),()=>{f.removeEventListener("keydown",v,!0)}},[f,o,n,r,w]);const y=u.onKeyDown,T=d.useCallback(v=>{y==null||y(v)},[y]);return{...u,ref:R,onKeyDown:T}}function Jl(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(et(r,{select:t}),document.activeElement!==n)return}function ea(e){const t=cs(e),n=Gr(t,e),r=Gr(t.reverse(),e);return[n,r]}function cs(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gr(e,t){for(const n of e)if(!us(n,{upTo:t}))return n}function us(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ta(e){return e instanceof HTMLInputElement&&"select"in e}function et(e,{select:t=!1}={}){if(e!=null&&e.focus){const n=document.activeElement;try{e.focus({preventScroll:!0}),e!==n&&ta(e)&&t&&e.select()}catch{}}}const qr=na();function na(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xr(e,t),e.unshift(t)},remove(t){var n;e=Xr(e,t),(n=e[0])==null||n.resume()}}}function Xr(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ra(e){return e.filter(t=>t.tagName!=="A")}const oa=()=>typeof window<"u"&&!!window.document&&!!window.document.createElement,sa=e=>{d.useEffect(()=>{if(!e||!oa())return;const t=document.documentElement,n={scrollbarGutter:t.style.scrollbarGutter,overflow:t.style.overflow};return t.style.scrollbarGutter="stable",t.style.overflow="hidden",()=>{Object.assign(t.style,n)}},[e])},ia=e=>(sa(!!e.enabled),e.children),wn="Sheet",ds="SheetHandle",fs="SheetOverlay",[la,Ad]=is(wn),[aa,Xt]=la(wn,{}),Zr=k.createContext({zIndex:1e5}),ca=k.createContext(null);function Qr(e,t,n=25){if(e>=t)return e;const r=t-e,o=Math.sqrt(r)*2;return t-o}const hs=()=>{const e=k.useContext(ms),t=e==null?void 0:e.hidden,n=t&&(e==null?void 0:e.open);return{controller:e,isHidden:t,isShowingNonSheet:n,disableDrag:e==null?void 0:e.disableDrag}},ms=k.createContext(null),ua=e=>{const{isHidden:t,controller:n}=hs(),r=l=>{var c,a;(c=n==null?void 0:n.onOpenChange)==null||c.call(n,l),(a=e.onOpenChange)==null||a.call(e,l)},o=e.preferAdaptParentOpenState?(n==null?void 0:n.open)??e.open:e.open??(n==null?void 0:n.open),[s,i]=It({prop:o,defaultProp:e.defaultOpen??!1,onChange:r,strategy:"most-recent-wins"});return{open:s,setOpen:i,isHidden:t,controller:n}};function da(e,t,n={}){const r=k.useRef(null),o=k.useRef(null),[s,i]=k.useState(0),[l,c]=k.useState(0),a=e.snapPointsMode??"percent",u=e.snapPoints??(a==="percent"?[80]:a==="constant"?[256]:["fit"]),f=u[0]==="fit",m=k.useMemo(()=>e.dismissOnSnapToBottom?[...u,0]:u,[JSON.stringify(u),e.dismissOnSnapToBottom]),[h,g]=It({prop:e.position,defaultProp:e.defaultPosition||(t.open?0:-1),onChange:e.onPositionChange,strategy:"most-recent-wins"}),p=t.open===!1?-1:h,{open:b}=t,R=k.useCallback(I=>{e.dismissOnSnapToBottom&&I===m.length-1?t.setOpen(!1):g(I)},[e.dismissOnSnapToBottom,m.length,g,t.setOpen]);b&&e.dismissOnSnapToBottom&&p===m.length-1&&g(0);const S=b&&p<0;k.useEffect(()=>{S&&R(0)},[R,S]);const{animationDriver:w}=Qo();if(!w)throw new Error("❌ 008");const y=qo(()=>{const I=new Set,M={hasScrollableContent:!1,enabled:!1,y:0,paneY:0,paneMinY:0,scrollStartY:-1,drag:()=>{},release:()=>{},scrollLock:!1,isParentDragging:!1,onParentDragging:O=>(I.add(O),()=>{I.delete(O)}),setParentDragging:O=>{O!==M.isParentDragging&&(M.isParentDragging=O,I.forEach(E=>E(O)))}};return M}),T=e.forceRemoveScrollEnabled??(b&&e.modal),v=m[0];return{screenSize:a==="percent"?s/((typeof v=="number"?v:100)/100):l,maxSnapPoint:v,removeScrollEnabled:T,scrollBridge:y,modal:!!e.modal,open:t.open,setOpen:t.setOpen,hidden:!!t.isHidden,contentRef:o,handleRef:r,frameSize:s,setFrameSize:i,dismissOnOverlayPress:e.dismissOnOverlayPress??!0,dismissOnSnapToBottom:e.dismissOnSnapToBottom??!1,onOverlayComponent:n.onOverlayComponent,scope:e.__scopeSheet,hasFit:f,position:p,snapPoints:m,snapPointsMode:a,setMaxContentSize:c,setPosition:R,setPositionImmediate:g,onlyShowFrame:!1}}const Un=10000.1;let xt=null;const Jr="window",fa=k.forwardRef(function(e,t){const n=k.useContext(Zr),{animation:r,animationConfig:o,modal:s=!1,zIndex:i=n.zIndex+1,moveOnKeyboardChange:l=!1,unmountChildrenWhenHidden:c=!1,portalProps:a,containerComponent:u=k.Fragment}=e,f=ua(e),[m,h]=k.useState(null),g=da(e,f,{onOverlayComponent:h}),{frameSize:p,setFrameSize:b,snapPoints:R,snapPointsMode:S,hasFit:w,position:y,setPosition:T,scrollBridge:v,screenSize:I,setMaxContentSize:M,maxSnapPoint:O}=g,{open:E,controller:D,isHidden:B}=f,U=k.useRef(void 0),N=Le(t,U,g.contentRef),{animationDriver:C}=Qo();if(!C)throw new Error("Sheet reqiures an animation driver to be set");const j=(()=>{if(C.supportsCSS)return{};const[G,J]=r?Array.isArray(r)?r:[r]:[];return o??(G?{...C.animations[G],...J}:null)})(),[_,A]=k.useState(!1),P=k.useContext(ca);k.useCallback(G=>{A(G)},[]);const F=k.useMemo(()=>R.map(G=>ha(S,G,I,p)),[I,p,R,S]),{useAnimatedNumber:q,useAnimatedNumberStyle:L,useAnimatedNumberReaction:X}=C,ee=C.View??br;ae(()=>{if(P&&E)return P(!0),()=>{P(!1)}},[P,E]);const we=k.useMemo(()=>({zIndex:i}),[i]),ne=pr()&&I?I:Un,se=q(ne),ce=k.useRef(ne),Ce=ce.current===Un,[K,V]=d.useState(Ce),Y=k.useRef(!1);X({value:se,hostRef:U},k.useCallback(G=>{ce.current=G,v.paneY=G},[C]));function $(){se.stop(),v.onFinishAnimate&&(v.onFinishAnimate(),v.onFinishAnimate=void 0)}const W=He(G=>{if(p===0)return;let J=B||G===-1?I:F[G];ce.current!==J&&(ce.current=J,$(),se.setValue(J,{type:"spring",...j}))}),ie=!(K||!p||!I||B||Ce&&!E);ae(()=>{Ce&&I&&p&&(ce.current=I,se.setValue(I,{type:"timing",duration:0},()=>{setTimeout(()=>{V(!1)},10)}))},[Ce,I,p]),ae(()=>{ie&&(W(y),y===-1&&(v.scrollLock=!1,v.scrollStartY=-1))},[ie,y]);const le=e.disableDrag??(D==null?void 0:D.disableDrag),ge=Zo(),[ve,Q]=k.useState(!1),te=k.useMemo(()=>{if(le||!p||_)return;const G=F[0];v.paneMinY=G;let J=ce.current;function Se(xe){Q(xe),gt&&(xt||(xt=document.createElement("style"),typeof document.head<"u"&&document.head.appendChild(xt)),xe?xt.innerText=":root * { user-select: none !important; -webkit-user-select: none !important; }":xt.innerText="")}const Qe=({vy:xe,dragAt:Ie})=>{if(v.setParentDragging(!1),v.scrollLock)return;Oe=!1,Se(!1);const Ne=Ie+J+p*xe*.2;let Pe=0,zt=Number.POSITIVE_INFINITY;for(let lt=0;lt<F.length;lt++){const bt=F[lt],Fr=Ne>bt?Ne-bt:bt-Ne;Fr<zt&&(zt=Fr,Pe=lt)}T(Pe),W(Pe)},it=(xe,Ie)=>{Qe({vy:Ie.vy,dragAt:Ie.dy})},Ht=(xe,{dy:Ie})=>{function Ne(){if(xe.target===g.handleRef.current)return!0;if(v.hasScrollableContent===!0){if(v.scrollLock)return!1;const zt=v.y!==0,lt=Ie<0,bt=v.paneY-5<=v.paneMinY;if(zt||bt&&Y.current&&lt)return!1}return Math.abs(Ie)>10}const Pe=Ne();return Pe&&v.setParentDragging(!0),Pe},Je=()=>{Se(!0),$(),J=ce.current};let Oe=!1;return v.drag=xe=>{Oe||(Oe=!0,Je());const Ie=xe+J;se.setValue(Qr(Ie,G),{type:"direct"})},v.release=Qe,at.create({onMoveShouldSetPanResponder:Ht,onPanResponderGrant:Je,onPanResponderMove:(xe,{dy:Ie})=>{const Ne=Ie+J,Pe=Qr(Ne,G);Pe<=G?v.setParentDragging(!1):v.setParentDragging(!0),se.setValue(Pe,{type:"direct"})},onPanResponderEnd:it,onPanResponderTerminate:it,onPanResponderRelease:it})},[le,_,W,p,F,T]),Ee=k.useCallback(G=>{var Se;const J=Math.min((Se=G.nativeEvent)==null?void 0:Se.layout.height,or.get(Jr).height);J&&b(J)},[]),H=k.useCallback(G=>{var Se;const J=Math.min((Se=G.nativeEvent)==null?void 0:Se.layout.height,or.get(Jr).height);J&&M(J)},[]),Z=L(se,G=>{"worklet";return{transform:[{translateY:p===0?Un:G}]}});k.useRef(null),k.useEffect(()=>{},[l,F,y,B]);const[z,re]=k.useState(E?1:0);E&&z===0&&re(1),k.useEffect(()=>{if(!E){const G=setTimeout(()=>{re(0)},400);return()=>{clearTimeout(G)}}},[E]);const oe=w?void 0:S==="percent"?`${O}dvh`:O,ue=k.useCallback(G=>{Y.current=G},[]);let Ue=x.jsx(Zr.Provider,{value:we,children:x.jsxs(aa,{...g,setHasScrollView:ue,children:[x.jsx(yr,{custom:{open:E},children:E?m:null}),S!=="percent"&&x.jsx(en,{style:{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},onLayout:H}),x.jsx(ee,{ref:N,...te==null?void 0:te.panHandlers,onLayout:Ee,animation:ve||K?null:r,disableClassName:!0,style:[{position:"absolute",zIndex:i,width:"100%",height:oe,minHeight:oe,opacity:z,...!E&&{pointerEvents:"none"}},Z],children:e.children})]})});const st=c?!!z:!0;return s?x.jsx(Ii,{stackZIndex:i,...a,children:st&&x.jsx(u,{children:x.jsx(Wo,{contain:!0,forceClassName:!0,name:ge,children:Ue})})}):Ue});function ha(e,t,n,r){if(!n||!r)return 0;if(e==="mixed"){if(typeof t=="number")return n-Math.min(n,Math.max(0,t));if(t==="fit")return n-Math.min(n,r);if(t.endsWith("%")){const s=Math.min(100,Math.max(0,Number(t.slice(0,-1))))/100;return Number.isNaN(s)?(console.warn("Invalid snapPoint percentage string"),0):Math.round(n-s*n)}return console.warn("Invalid snapPoint unknown value"),0}if(e==="fit")return t===0?n:n-Math.min(n,r);if(e==="constant"&&typeof t=="number")return n-Math.min(n,Math.max(0,t));const o=Math.min(100,Math.max(0,Number(t)))/100;return Number.isNaN(o)?(console.warn("Invalid snapPoint percentage"),0):Math.round(n-o*n)}const ma=he(Go,{name:"ScrollView",scrollEnabled:!0,variants:{fullscreen:{true:Pi}}},{accept:{contentContainerStyle:"style"}}),pa="SheetScrollView",ga=k.forwardRef(({__scopeSheet:e,children:t,onScroll:n,scrollEnabled:r,...o},s)=>{const i=Xt(pa,e),{scrollBridge:l,setHasScrollView:c}=i,[a,u]=It({prop:r,defaultProp:!0}),f=k.useRef(null),m=T=>{var v,I;(I=(v=f.current)==null?void 0:v.setNativeProps)==null||I.call(v,{scrollEnabled:T}),u(T)},h=k.useRef({lastPageY:0,dragAt:0,dys:[],isScrolling:!1,isDraggingScrollArea:!1});d.useEffect(()=>(c(!0),()=>{c(!1)}),[]);const g=()=>{if(!h.current.isDraggingScrollArea)return;h.current.isDraggingScrollArea=!1,l.scrollStartY=-1,l.scrollLock=!1,h.current.isScrolling=!1,m(!0);let T=0;if(h.current.dys.length){const v=h.current.dys.slice(-10);T=(v.length?v.reduce((I,M)=>I+M,0):0)/v.length*.04}h.current.dys=[],l.release({dragAt:h.current.dragAt,vy:T})},p=a;d.useEffect(()=>{var M;if(!gt||!f.current)return;const T=new AbortController,v=(M=f.current)==null?void 0:M.getScrollableNode();if(!v)return;v.addEventListener("touchmove",O=>{l.isParentDragging&&v.scrollTo({top:l.y,behavior:"instant"})},{signal:T.signal,passive:!1});const I=l.onParentDragging(O=>{});return()=>{I(),T.abort()}},[f]);const[b,R]=d.useState(!0),S=d.useRef(0),w=d.useRef(0),y=()=>{S.current&&w.current&&R(w.current>S.current)};return d.useEffect(()=>{l.hasScrollableContent=b},[b]),x.jsxs(ma,{onLayout:T=>{S.current=Math.ceil(T.nativeEvent.layout.height),y()},ref:gi(f,s),flex:1,scrollEventThrottle:8,onResponderRelease:g,className:"_ovs-contain",scrollEnabled:p,onScroll:T=>{const{y:v}=T.nativeEvent.contentOffset;l.y=v,l.scrollLock=v>0,v>0&&(l.scrollStartY=-1),n==null||n(T)},onStartShouldSetResponder:()=>(l.scrollStartY=-1,h.current.isDraggingScrollArea=!0,p),onMoveShouldSetResponder:T=>p,contentContainerStyle:{minHeight:"100%"},onResponderMove:T=>{{const{pageY:v}=T.nativeEvent;h.current.isScrolling||l.scrollStartY===-1&&(l.scrollStartY=v,h.current.lastPageY=v);const I=v-l.scrollStartY,M=v-h.current.lastPageY;h.current.lastPageY=v;const O=M<0,E=l.paneY<=l.paneMinY;if(b&&(M===0||O)&&E&&!h.current.isScrolling){h.current.isScrolling=!0,l.scrollLock=!0,m(!0);return}if(!(!h.current.isScrolling&&M>0&&l.y===0)&&l.y>=0)return;m(!1),l.drag(I),h.current.dragAt=I,h.current.dys.push(M),h.current.dys.length>100&&(h.current.dys=h.current.dys.slice(-10))}},...o,children:[x.jsx(vi,{position:"absolute",inset:0,pointerEvents:"none",zIndex:-1,onLayout:T=>{w.current=Math.floor(T.nativeEvent.layout.height),y()}}),t]})}),va=({snapPoints:e,position:t,screenSize:n,frameSize:r,snapPointsMode:o})=>{if(o==="fit")return 0;if(o==="constant"){const u=Number(e[0]),f=Number(e[t]??0);return u-f}if(o==="percent"){const u=Number(e[0])/100,f=Number(e[t]??0)/100;return(u-f)*n}const s=e[0];if(s==="fit")return 0;const i=typeof s=="string"?Number(s.slice(0,-1))/100*n:s,l=e[t]??0,c=typeof l=="string"?Number(l.slice(0,-1))/100*n:l,a=i-c;return Number.isNaN(a)?0:a};function ba({Handle:e,Frame:t,Overlay:n}){const r=e.styleable(({__scopeSheet:a,...u},f)=>{const m=Xt(ds,a),h=Le(m.handleRef,f);return m.onlyShowFrame?null:x.jsx(e,{ref:h,onPress:()=>{const g=m.snapPoints.length+(m.dismissOnSnapToBottom?-1:0),p=(m.position+1)%g;m.setPosition(p)},open:m.open,...u})}),o=n.extractable(d.memo(a=>{const{__scopeSheet:u,...f}=a,m=Xt(fs,u),h=d.useMemo(()=>x.jsx(n,{...f,onPress:bi(f.onPress,m.dismissOnOverlayPress?()=>{m.setOpen(!1)}:void 0)}),[f.onPress,f.opacity,m.dismissOnOverlayPress]);return ae(()=>{var g;(g=m.onOverlayComponent)==null||g.call(m,h)},[h]),m.onlyShowFrame,null})),s=t.extractable(d.forwardRef(({__scopeSheet:a,adjustPaddingForOffscreenContent:u,disableHideBottomOverflow:f,children:m,...h},g)=>{const p=Xt(wn,a),{hasFit:b,removeScrollEnabled:R=!0,frameSize:S,contentRef:w,open:y}=p,T=Le(g,w),v=va(p),I=d.useMemo(()=>x.jsxs(t,{ref:T,flex:b?0:1,height:b?void 0:S,pointerEvents:y?"auto":"none",...h,children:[x.jsx(ns,{zIndex:Ai(h.zIndex),children:m}),u&&x.jsx(br,{"data-sheet-offscreen-pad":!0,height:v,width:"100%"})]}),[y,h,S,v,u,b]);return x.jsxs(x.Fragment,{children:[x.jsx(ia,{enabled:R&&p.open,children:I}),!f&&x.jsx(t,{...h,"data-testid":"ensure-sheet-cover-not-overlapping",componentName:"SheetCover",children:null,position:"absolute",bottom:"-100%",zIndex:-1,height:p.frameSize,left:0,right:0,borderWidth:0,borderRadius:0,shadowOpacity:0})]})})),i=d.forwardRef(function(a,u){const f=pr(),{isShowingNonSheet:m}=hs();let h=fa;return a.native&&Si.OS,m||!f?null:x.jsx(h,{ref:u,...a})}),l={Frame:s,Overlay:o,Handle:r,ScrollView:ga},c=Et(i,l);return Et(i,{...l,Controlled:c})}var Rr={};const Sa=he(Sr,{name:ds,variants:{open:{true:{opacity:1,pointerEvents:"auto"},false:{opacity:0,pointerEvents:"none"}},unstyled:{false:{height:10,borderRadius:100,backgroundColor:"$background",zIndex:10,marginHorizontal:"35%",marginBottom:"$2",opacity:.5,hoverStyle:{opacity:.7}}}},defaultVariants:{unstyled:Rr.TAMAGUI_HEADLESS==="1"}}),ya=he(yn,{name:fs,variants:{open:{true:{pointerEvents:"auto"},false:{pointerEvents:"none"}},unstyled:{false:{fullscreen:!0,position:"absolute",backgrounded:!0,zIndex:99999,pointerEvents:"auto"}}},defaultVariants:{unstyled:Rr.TAMAGUI_HEADLESS==="1"}}),xa=he(kt,{name:wn,variants:{unstyled:{false:{flex:1,backgroundColor:"$background",borderTopLeftRadius:"$true",borderTopRightRadius:"$true",width:"100%",maxHeight:"100%",overflow:"hidden"}}},defaultVariants:{unstyled:Rr.TAMAGUI_HEADLESS==="1"}}),Ra=ba({Frame:xa,Handle:Sa,Overlay:ya}),wa=({children:e,onOpenChange:t,open:n,hidden:r,disableDrag:o})=>{const s=He(t),i=d.useId(),l=k.useMemo(()=>({id:i,open:n,hidden:r,disableDrag:o,onOpenChange:s}),[i,s,n,r,o]);return x.jsx(ms.Provider,{value:l,children:e})},Ca=(e,t)=>{const n=Ta(e);return zo(n)?+n.val:n?+n:16},Ta=(e,t)=>{var o;const n=Ea(e);if(!n)return e;const r=gr();return(o=r.fontsParsed[r.defaultFontToken])==null?void 0:o.size[n]},Ea=(e,t)=>{var a;if(typeof e=="number")return null;const n=0,r=gr(),o=((a=r.fontsParsed[r.defaultFontToken])==null?void 0:a.size)||r.tokensParsed.size,s=e==="$true"&&!("$true"in o)?"$4":e,i=Object.keys(o);let l=i.indexOf(s);l===-1&&s.endsWith(".5")&&(l=i.indexOf(s.replace(".5","")));const c=Math.min(Math.max(0,l+n),i.length-1);return i[c]??s},Ia=e=>{var n,r;const t=yi();return e?xi(e):((n=t[e])==null?void 0:n.get())||((r=t.color)==null?void 0:r.get())},Aa=e=>{const t=Ia(e.color);return n=>n&&(k.isValidElement(n)?k.cloneElement(n,{...e,color:t,...n.props}):k.createElement(n,e))};var wr={};const Ma="ListItem",dn=he(yn,{name:Ma,tag:"li",variants:{unstyled:{false:{size:"$true",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap",width:"100%",borderColor:"$borderColor",maxWidth:"100%",overflow:"hidden",flexDirection:"row",backgroundColor:"$background",cursor:"default"}},size:{"...size":(e,{tokens:t})=>({minHeight:t.size[e],paddingHorizontal:t.space[e],paddingVertical:es(t.space[e],{shift:-4})})},active:{true:{hoverStyle:{backgroundColor:"$background"}}},disabled:{true:{opacity:.5,pointerEvents:"none"}}},defaultVariants:{unstyled:wr.TAMAGUI_HEADLESS==="1"}}),At=he(vt,{name:"ListItemText",variants:{unstyled:{false:{color:"$color",size:"$true",flexGrow:1,flexShrink:1,ellipse:!0,cursor:"inherit"}}},defaultVariants:{unstyled:wr.TAMAGUI_HEADLESS==="1"}}),ir=he(At,{name:"ListItemSubtitle",variants:{unstyled:{false:{opacity:.6,maxWidth:"100%",color:"$color"}},size:{"...size":(e,t)=>{const n=yl(e,{shift:-1,excludeHalfSteps:!0});return xn(n.key,t)}}},defaultVariants:{unstyled:wr.TAMAGUI_HEADLESS==="1"}}),lr=he(At,{name:"ListItemTitle"}),ps=(e,{Text:t=At,Subtitle:n=ir,Title:r=lr}={Text:At,Subtitle:ir,Title:lr})=>{const o=vl(e,{resolveValues:"none"}),{children:s,icon:i,iconAfter:l,noTextWrap:c,theme:a,space:u,spaceFlex:f,scaleIcon:m=1,scaleSpace:h=1,unstyled:g=!1,subTitle:p,title:b,color:R,fontWeight:S,fontSize:w,fontFamily:y,letterSpacing:T,textAlign:v,ellipse:I,...M}=o,O={color:R,fontWeight:S,fontSize:w,fontFamily:y,letterSpacing:T,textAlign:v,children:s},E=o.size||"$true",D=Ca(E)*m,B=Aa({size:D,color:R}),[U,N]=[i,l].map(B),C=vr().space[o.space]??D,j=$o(C)*h,_=Nl(t,O);return{props:{...M,children:x.jsxs(x.Fragment,{children:[U?x.jsxs(x.Fragment,{children:[U,x.jsx(Dr,{size:j})]}):null,b||p?x.jsxs(kt,{flex:1,children:[c==="all"?b:x.jsx(r,{size:E,children:b}),p?x.jsx(x.Fragment,{children:typeof p=="string"&&c!=="all"?x.jsx(n,{unstyled:g,size:E,children:p}):p}):null,_]}):_,N?x.jsxs(x.Fragment,{children:[x.jsx(Dr,{size:j}),N]}):null]})}}},Oa=dn.styleable(function(e,t){const{props:n}=ps(e);return x.jsx(dn,{ref:t,...n})}),gs=Et(Oa,{Text:At,Subtitle:ir,Title:lr}),mt=Math.min,Re=Math.max,Mt=Math.round,ut=Math.floor,_e=e=>({x:e,y:e});function Cn(e,t){return typeof e=="function"?e(t):e}function Tn(e){return e.split("-")[0]}function Cr(e){return e.split("-")[1]}function Pa(e){return e==="x"?"y":"x"}function ka(e){return e==="y"?"height":"width"}const Fa=new Set(["top","bottom"]);function En(e){return Fa.has(Tn(e))?"y":"x"}function Na(e){return Pa(En(e))}function Da(e){return{top:0,right:0,bottom:0,left:0,...e}}function _a(e){return typeof e!="number"?Da(e):{top:e,right:e,bottom:e,left:e}}function fn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function eo(e,t,n){let{reference:r,floating:o}=e;const s=En(t),i=Na(t),l=ka(i),c=Tn(t),a=s==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m=r[l]/2-o[l]/2;let h;switch(c){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Cr(t)){case"start":h[i]-=m*(n&&a?-1:1);break;case"end":h[i]+=m*(n&&a?-1:1);break}return h}const La=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let a=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=eo(a,r,c),m=r,h={},g=0;for(let p=0;p<l.length;p++){const{name:b,fn:R}=l[p],{x:S,y:w,data:y,reset:T}=await R({x:u,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:h,rects:a,platform:i,elements:{reference:e,floating:t}});u=S??u,f=w??f,h={...h,[b]:{...h[b],...y}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(a=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:u,y:f}=eo(a,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:o,middlewareData:h}};async function vs(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Cn(t,e),g=_a(h),b=l[m?f==="floating"?"reference":"floating":f],R=fn(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:a,rootBoundary:u,strategy:c})),S=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),y=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},T=fn(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:w,strategy:c}):S);return{top:(R.top-T.top+g.top)/y.y,bottom:(T.bottom-R.bottom+g.bottom)/y.y,left:(R.left-T.left+g.left)/y.x,right:(T.right-R.right+g.right)/y.x}}const Ha=new Set(["left","top"]);async function za(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Tn(n),l=Cr(n),c=En(n)==="y",a=Ha.has(i)?-1:1,u=s&&c?-1:1,f=Cn(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*u,y:m*a}:{x:m*a,y:h*u}}const Va=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:l}=t,c=await za(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},ja=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...a}=Cn(e,t),u=await vs(t,a),f=Tn(o),m=Cr(o),h=En(o)==="y",{width:g,height:p}=s.floating;let b,R;f==="top"||f==="bottom"?(b=f,R=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(R=f,b=m==="end"?"top":"bottom");const S=p-u.top-u.bottom,w=g-u.left-u.right,y=mt(p-u[b],S),T=mt(g-u[R],w),v=!t.middlewareData.shift;let I=y,M=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=S),v&&!m){const E=Re(u.left,0),D=Re(u.right,0),B=Re(u.top,0),U=Re(u.bottom,0);h?M=g-2*(E!==0||D!==0?E+D:Re(u.left,u.right)):I=p-2*(B!==0||U!==0?B+U:Re(u.top,u.bottom))}await c({...t,availableWidth:M,availableHeight:I});const O=await i.getDimensions(l.floating);return g!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function In(){return typeof window<"u"}function Ze(e){return bs(e)?(e.nodeName||"").toLowerCase():"#document"}function Me(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ze(e){var t;return(t=(bs(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bs(e){return In()?e instanceof Node||e instanceof Me(e).Node:!1}function fe(e){return In()?e instanceof Element||e instanceof Me(e).Element:!1}function me(e){return In()?e instanceof HTMLElement||e instanceof Me(e).HTMLElement:!1}function ar(e){return!In()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Me(e).ShadowRoot}const Wa=new Set(["inline","contents"]);function Nt(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Fe(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Wa.has(o)}const $a=new Set(["table","td","th"]);function Ba(e){return $a.has(Ze(e))}const Ua=[":popover-open",":modal"];function An(e){return Ua.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ka=["transform","translate","scale","rotate","perspective"],Ya=["transform","translate","scale","rotate","perspective","filter"],Ga=["paint","layout","strict","content"];function Tr(e){const t=Mn(),n=fe(e)?Fe(e):e;return Ka.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ya.some(r=>(n.willChange||"").includes(r))||Ga.some(r=>(n.contain||"").includes(r))}function qa(e){let t=$e(e);for(;me(t)&&!je(t);){if(Tr(t))return t;if(An(t))return null;t=$e(t)}return null}function Mn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xa=new Set(["html","body","#document"]);function je(e){return Xa.has(Ze(e))}function Fe(e){return Me(e).getComputedStyle(e)}function On(e){return fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $e(e){if(Ze(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ar(e)&&e.host||ze(e);return ar(t)?t.host:t}function Ss(e){const t=$e(e);return je(t)?e.ownerDocument?e.ownerDocument.body:e.body:me(t)&&Nt(t)?t:Ss(t)}function Xe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ss(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Me(o);if(s){const l=cr(i);return t.concat(i,i.visualViewport||[],Nt(o)?o:[],l&&n?Xe(l):[])}return t.concat(o,Xe(o,[],n))}function cr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ys(e){const t=Fe(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=me(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=Mt(n)!==s||Mt(r)!==i;return l&&(n=s,r=i),{width:n,height:r,$:l}}function Er(e){return fe(e)?e:e.contextElement}function dt(e){const t=Er(e);if(!me(t))return _e(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=ys(t);let i=(s?Mt(n.width):n.width)/r,l=(s?Mt(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Za=_e(0);function xs(e){const t=Me(e);return!Mn()||!t.visualViewport?Za:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qa(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Me(e)?!1:t}function rt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Er(e);let i=_e(1);t&&(r?fe(r)&&(i=dt(r)):i=dt(e));const l=Qa(s,n,r)?xs(s):_e(0);let c=(o.left+l.x)/i.x,a=(o.top+l.y)/i.y,u=o.width/i.x,f=o.height/i.y;if(s){const m=Me(s),h=r&&fe(r)?Me(r):r;let g=m,p=cr(g);for(;p&&r&&h!==g;){const b=dt(p),R=p.getBoundingClientRect(),S=Fe(p),w=R.left+(p.clientLeft+parseFloat(S.paddingLeft))*b.x,y=R.top+(p.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,a*=b.y,u*=b.x,f*=b.y,c+=w,a+=y,g=Me(p),p=cr(g)}}return fn({width:u,height:f,x:c,y:a})}function Pn(e,t){const n=On(e).scrollLeft;return t?t.left+n:rt(ze(e)).left+n}function Rs(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Pn(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Ja(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=ze(r),l=t?An(t.floating):!1;if(r===i||l&&s)return n;let c={scrollLeft:0,scrollTop:0},a=_e(1);const u=_e(0),f=me(r);if((f||!f&&!s)&&((Ze(r)!=="body"||Nt(i))&&(c=On(r)),me(r))){const h=rt(r);a=dt(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const m=i&&!f&&!s?Rs(i,c):_e(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+u.x+m.x,y:n.y*a.y-c.scrollTop*a.y+u.y+m.y}}function ec(e){return Array.from(e.getClientRects())}function tc(e){const t=ze(e),n=On(e),r=e.ownerDocument.body,o=Re(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Re(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Pn(e);const l=-n.scrollTop;return Fe(r).direction==="rtl"&&(i+=Re(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:l}}const to=25;function nc(e,t){const n=Me(e),r=ze(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){s=o.width,i=o.height;const u=Mn();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const a=Pn(r);if(a<=0){const u=r.ownerDocument,f=u.body,m=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-h);g<=to&&(s-=g)}else a<=to&&(s+=a);return{width:s,height:i,x:l,y:c}}const rc=new Set(["absolute","fixed"]);function oc(e,t){const n=rt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=me(e)?dt(e):_e(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=o*s.x,a=r*s.y;return{width:i,height:l,x:c,y:a}}function no(e,t,n){let r;if(t==="viewport")r=nc(e,n);else if(t==="document")r=tc(ze(e));else if(fe(t))r=oc(t,n);else{const o=xs(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return fn(r)}function ws(e,t){const n=$e(e);return n===t||!fe(n)||je(n)?!1:Fe(n).position==="fixed"||ws(n,t)}function sc(e,t){const n=t.get(e);if(n)return n;let r=Xe(e,[],!1).filter(l=>fe(l)&&Ze(l)!=="body"),o=null;const s=Fe(e).position==="fixed";let i=s?$e(e):e;for(;fe(i)&&!je(i);){const l=Fe(i),c=Tr(i);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&rc.has(o.position)||Nt(i)&&!c&&ws(e,i))?r=r.filter(u=>u!==i):o=l,i=$e(i)}return t.set(e,r),r}function ic(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?An(t)?[]:sc(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((a,u)=>{const f=no(t,u,o);return a.top=Re(f.top,a.top),a.right=mt(f.right,a.right),a.bottom=mt(f.bottom,a.bottom),a.left=Re(f.left,a.left),a},no(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lc(e){const{width:t,height:n}=ys(e);return{width:t,height:n}}function ac(e,t,n){const r=me(t),o=ze(t),s=n==="fixed",i=rt(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=_e(0);function a(){c.x=Pn(o)}if(r||!r&&!s)if((Ze(t)!=="body"||Nt(o))&&(l=On(t)),r){const h=rt(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&a();s&&!r&&o&&a();const u=o&&!r&&!s?Rs(o,l):_e(0),f=i.left+l.scrollLeft-c.x-u.x,m=i.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:i.width,height:i.height}}function Kn(e){return Fe(e).position==="static"}function ro(e,t){if(!me(e)||Fe(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ze(e)===n&&(n=n.ownerDocument.body),n}function Cs(e,t){const n=Me(e);if(An(e))return n;if(!me(e)){let o=$e(e);for(;o&&!je(o);){if(fe(o)&&!Kn(o))return o;o=$e(o)}return n}let r=ro(e,t);for(;r&&Ba(r)&&Kn(r);)r=ro(r,t);return r&&je(r)&&Kn(r)&&!Tr(r)?n:r||qa(e)||n}const cc=async function(e){const t=this.getOffsetParent||Cs,n=this.getDimensions,r=await n(e.floating);return{reference:ac(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uc(e){return Fe(e).direction==="rtl"}const dc={convertOffsetParentRelativeRectToViewportRelativeRect:Ja,getDocumentElement:ze,getClippingRect:ic,getOffsetParent:Cs,getElementRects:cc,getClientRects:ec,getDimensions:lc,getScale:dt,isElement:fe,isRTL:uc};function Ts(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fc(e,t){let n=null,r;const o=ze(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const a=e.getBoundingClientRect(),{left:u,top:f,width:m,height:h}=a;if(l||t(),!m||!h)return;const g=ut(f),p=ut(o.clientWidth-(u+m)),b=ut(o.clientHeight-(f+h)),R=ut(u),w={rootMargin:-g+"px "+-p+"px "+-b+"px "+-R+"px",threshold:Re(0,mt(1,c))||1};let y=!0;function T(v){const I=v[0].intersectionRatio;if(I!==c){if(!y)return i();I?i(!1,I):r=setTimeout(()=>{i(!1,1e-7)},1e3)}I===1&&!Ts(a,e.getBoundingClientRect())&&i(),y=!1}try{n=new IntersectionObserver(T,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,w)}n.observe(e)}return i(!0),s}function Es(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,a=Er(e),u=o||s?[...a?Xe(a):[],...Xe(t)]:[];u.forEach(R=>{o&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const f=a&&l?fc(a,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(R=>{let[S]=R;S&&S.target===a&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),a&&!c&&h.observe(a),h.observe(t));let g,p=c?rt(e):null;c&&b();function b(){const R=rt(e);p&&!Ts(p,R)&&n(),p=R,g=requestAnimationFrame(b)}return n(),()=>{var R;u.forEach(S=>{o&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),f==null||f(),(R=h)==null||R.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const Yn=vs,hc=Va,mc=ja,pc=(e,t,n)=>{const r=new Map,o={platform:dc,...n},s={...o.platform,_c:r};return La(e,t,{...o,platform:s})};var gc=typeof document<"u",vc=function(){},Zt=gc?d.useLayoutEffect:vc;function hn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hn(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!hn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Is(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oo(e,t){const n=Is(e);return Math.round(t*n)/n}function Gn(e){const t=d.useRef(e);return Zt(()=>{t.current=e}),t}function bc(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:a}=e,[u,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=d.useState(r);hn(m,r)||h(r);const[g,p]=d.useState(null),[b,R]=d.useState(null),S=d.useCallback(A=>{A!==v.current&&(v.current=A,p(A))},[]),w=d.useCallback(A=>{A!==I.current&&(I.current=A,R(A))},[]),y=s||g,T=i||b,v=d.useRef(null),I=d.useRef(null),M=d.useRef(u),O=c!=null,E=Gn(c),D=Gn(o),B=Gn(a),U=d.useCallback(()=>{if(!v.current||!I.current)return;const A={placement:t,strategy:n,middleware:m};D.current&&(A.platform=D.current),pc(v.current,I.current,A).then(P=>{const F={...P,isPositioned:B.current!==!1};N.current&&!hn(M.current,F)&&(M.current=F,We.flushSync(()=>{f(F)}))})},[m,t,n,D,B]);Zt(()=>{a===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[a]);const N=d.useRef(!1);Zt(()=>(N.current=!0,()=>{N.current=!1}),[]),Zt(()=>{if(y&&(v.current=y),T&&(I.current=T),y&&T){if(E.current)return E.current(y,T,U);U()}},[y,T,U,E,O]);const C=d.useMemo(()=>({reference:v,floating:I,setReference:S,setFloating:w}),[S,w]),j=d.useMemo(()=>({reference:y,floating:T}),[y,T]),_=d.useMemo(()=>{const A={position:n,left:0,top:0};if(!j.floating)return A;const P=oo(j.floating,u.x),F=oo(j.floating,u.y);return l?{...A,transform:"translate("+P+"px, "+F+"px)",...Is(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:F}},[n,l,j.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:U,refs:C,elements:j,floatingStyles:_}),[u,U,C,j,_])}const Ir=(e,t)=>({...hc(e),options:[e,t]}),Sc=(e,t)=>({...mc(e),options:[e,t]});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mn=yc.join(","),As=typeof Element>"u",pt=As?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pn=!As&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},gn=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",i=s||n&&t&&e(t.parentNode);return i},xc=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ms=function(t,n,r){if(gn(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(mn));return n&&pt.call(t,mn)&&o.unshift(t),o=o.filter(r),o},Os=function e(t,n,r){for(var o=[],s=Array.from(t);s.length;){var i=s.shift();if(!gn(i,!1))if(i.tagName==="SLOT"){var l=i.assignedElements(),c=l.length?l:i.children,a=e(c,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:i,candidates:a})}else{var u=pt.call(i,mn);u&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var f=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),m=!gn(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(f&&m){var h=e(f===!0?i.children:f.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:i,candidates:h})}else s.unshift.apply(s,i.children)}}return o},Ps=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ks=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||xc(t))&&!Ps(t)?0:t.tabIndex},Rc=function(t,n){var r=ks(t);return r<0&&n&&!Ps(t)?0:r},wc=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Fs=function(t){return t.tagName==="INPUT"},Cc=function(t){return Fs(t)&&t.type==="hidden"},Tc=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Ec=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Ic=function(t){if(!t.name)return!0;var n=t.form||pn(t),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=Ec(o,t.form);return!s||s===t},Ac=function(t){return Fs(t)&&t.type==="radio"},Mc=function(t){return Ac(t)&&!Ic(t)},Oc=function(t){var n,r=t&&pn(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var i,l,c;for(s=!!((i=o)!==null&&i!==void 0&&(l=i.ownerDocument)!==null&&l!==void 0&&l.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!s&&o;){var a,u,f;r=pn(o),o=(a=r)===null||a===void 0?void 0:a.host,s=!!((u=o)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return s},so=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Pc=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=pt.call(t,"details>summary:first-of-type"),i=s?t.parentElement:t;if(pt.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var l=t;t;){var c=t.parentElement,a=pn(t);if(c&&!c.shadowRoot&&o(c)===!0)return so(t);t.assignedSlot?t=t.assignedSlot:!c&&a!==t.ownerDocument?t=a.host:t=c}t=l}if(Oc(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return so(t);return!1},kc=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return pt.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},ur=function(t,n){return!(n.disabled||gn(n)||Cc(n)||Pc(n,t)||Tc(n)||kc(n))},dr=function(t,n){return!(Mc(n)||ks(n)<0||!ur(t,n))},Fc=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Nc=function e(t){var n=[],r=[];return t.forEach(function(o,s){var i=!!o.scopeParent,l=i?o.scopeParent:o,c=Rc(l,i),a=i?e(o.candidates):l;c===0?i?n.push.apply(n,a):n.push(l):r.push({documentOrder:s,tabIndex:c,item:o,isScope:i,content:a})}),r.sort(wc).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},kn=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Os([t],n.includeContainer,{filter:dr.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Fc}):r=Ms(t,n.includeContainer,dr.bind(null,n)),Nc(r)},Dc=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Os([t],n.includeContainer,{filter:ur.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Ms(t,n.includeContainer,ur.bind(null,n)),r},Ns=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return pt.call(t,mn)===!1?!1:dr(n,t)};function Ds(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Ar(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function _c(){return/apple/i.test(navigator.vendor)}function fr(){const e=/android/i;return e.test(Ds())||e.test(Ar())}function Lc(){return Ar().includes("jsdom/")}const io="data-floating-ui-focusable",Hc="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",qn="ArrowLeft",Xn="ArrowRight",zc="ArrowUp",Vc="ArrowDown";function Ye(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Te(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&ar(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Ge(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Zn(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function jc(e){return e.matches("html,body")}function ke(e){return(e==null?void 0:e.ownerDocument)||document}function _s(e){return me(e)&&e.matches(Hc)}function hr(e){return e?e.getAttribute("role")==="combobox"&&_s(e):!1}function vn(e){return e?e.hasAttribute(io)?e:e.querySelector("["+io+"]")||e:null}function ft(e,t){let n=e.filter(o=>{var s;return o.parentId===t&&((s=o.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(o=>{var s;return(s=r)==null?void 0:s.some(i=>{var l;return o.parentId===i.id&&((l=o.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function Wc(e,t){let n,r=-1;function o(s,i){i>r&&(n=s,r=i),ft(e,s).forEach(c=>{o(c.id,i+1)})}return o(t,0),e.find(s=>s.id===n)}function lo(e,t){var n;let r=[],o=(n=e.find(s=>s.id===t))==null?void 0:n.parentId;for(;o;){const s=e.find(i=>i.id===o);o=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function be(e){e.preventDefault(),e.stopPropagation()}function $c(e){return"nativeEvent"in e}function Ls(e){return e.mozInputSource===0&&e.isTrusted?!0:fr()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Hs(e){return Lc()?!1:!fr()&&e.width===0&&e.height===0||fr()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function ao(e,t){return["mouse","pen"].includes(e)}var Bc=typeof document<"u",Uc=function(){},de=Bc?d.useLayoutEffect:Uc;const Kc={...Bo};function De(e){const t=d.useRef(e);return de(()=>{t.current=e}),t}const Yc=Kc.useInsertionEffect,Gc=Yc||(e=>e());function pe(e){const t=d.useRef(()=>{});return Gc(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Bt(e,t,n){return Math.floor(e/t)!==n}function Ct(e,t){return t<0||t>=e.current.length}function Qn(e,t){return ye(e,{disabledIndices:t})}function co(e,t){return ye(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ye(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:s=1}=t===void 0?{}:t,i=n;do i+=r?-s:s;while(i>=0&&i<=e.current.length-1&&Qt(e,i,o));return i}function qc(e,t){let{event:n,orientation:r,loop:o,rtl:s,cols:i,disabledIndices:l,minIndex:c,maxIndex:a,prevIndex:u,stopEvent:f=!1}=t,m=u;if(n.key===zc){if(f&&be(n),u===-1)m=a;else if(m=ye(e,{startingIndex:m,amount:i,decrement:!0,disabledIndices:l}),o&&(u-i<c||m<0)){const h=u%i,g=a%i,p=a-(g-h);g===h?m=a:m=g>h?p:p-i}Ct(e,m)&&(m=u)}if(n.key===Vc&&(f&&be(n),u===-1?m=c:(m=ye(e,{startingIndex:u,amount:i,disabledIndices:l}),o&&u+i>a&&(m=ye(e,{startingIndex:u%i-i,amount:i,disabledIndices:l}))),Ct(e,m)&&(m=u)),r==="both"){const h=ut(u/i);n.key===(s?qn:Xn)&&(f&&be(n),u%i!==i-1?(m=ye(e,{startingIndex:u,disabledIndices:l}),o&&Bt(m,i,h)&&(m=ye(e,{startingIndex:u-u%i-1,disabledIndices:l}))):o&&(m=ye(e,{startingIndex:u-u%i-1,disabledIndices:l})),Bt(m,i,h)&&(m=u)),n.key===(s?Xn:qn)&&(f&&be(n),u%i!==0?(m=ye(e,{startingIndex:u,decrement:!0,disabledIndices:l}),o&&Bt(m,i,h)&&(m=ye(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:l}))):o&&(m=ye(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:l})),Bt(m,i,h)&&(m=u));const g=ut(a/i)===h;Ct(e,m)&&(o&&g?m=n.key===(s?Xn:qn)?a:ye(e,{startingIndex:u-u%i-1,disabledIndices:l}):m=u)}return m}function Xc(e,t,n){const r=[];let o=0;return e.forEach((s,i)=>{let{width:l,height:c}=s,a=!1;for(n&&(o=0);!a;){const u=[];for(let f=0;f<l;f++)for(let m=0;m<c;m++)u.push(o+f+m*t);o%t+l<=t&&u.every(f=>r[f]==null)?(u.forEach(f=>{r[f]=i}),a=!0):o++}}),[...r]}function Zc(e,t,n,r,o){if(e===-1)return-1;const s=n.indexOf(e),i=t[e];switch(o){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*r:s;case"br":return n.lastIndexOf(e)}}function Qc(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function Qt(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const Dt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function zs(e,t){const n=kn(e,Dt()),r=n.length;if(r===0)return;const o=Ye(ke(e)),s=n.indexOf(o),i=s===-1?t===1?0:r-1:s+t;return n[i]}function Vs(e){return zs(ke(e).body,1)||e}function js(e){return zs(ke(e).body,-1)||e}function Tt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Te(n,r)}function Jc(e){kn(e,Dt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function uo(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const eu="data-floating-ui-focusable",fo="active",ho="selected",_t="ArrowLeft",Lt="ArrowRight",Ws="ArrowUp",Fn="ArrowDown",tu={...Bo};let mo=!1,nu=0;const po=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nu++;function ru(){const[e,t]=d.useState(()=>mo?po():void 0);return de(()=>{e==null&&t(po())},[]),d.useEffect(()=>{mo=!0},[]),e}const ou=tu.useId,Mr=ou||ru;function su(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const iu=d.createContext(null),lu=d.createContext(null),Or=()=>{var e;return((e=d.useContext(iu))==null?void 0:e.id)||null},Nn=()=>d.useContext(lu);function Ot(e){return"data-floating-ui-"+e}function mr(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}let go=0;function tt(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(go);const s=()=>e==null?void 0:e.focus({preventScroll:n});o?s():go=requestAnimationFrame(s)}function au(e){return(e==null?void 0:e.ownerDocument)||document}const ht={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function vo(e){return e==="inert"?ht.inert:e==="aria-hidden"?ht["aria-hidden"]:ht.none}let Ut=new WeakSet,Kt={},Jn=0;const cu=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,$s=e=>e&&(e.host||$s(e.parentNode)),uu=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=$s(n);return e.contains(r)?r:null}).filter(n=>n!=null);function du(e,t,n,r){const o="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,i=uu(t,e),l=new Set,c=new Set(i),a=[];Kt[o]||(Kt[o]=new WeakMap);const u=Kt[o];i.forEach(f),m(t),l.clear();function f(h){!h||l.has(h)||(l.add(h),h.parentNode&&f(h.parentNode))}function m(h){!h||c.has(h)||[].forEach.call(h.children,g=>{if(Ze(g)!=="script")if(l.has(g))m(g);else{const p=s?g.getAttribute(s):null,b=p!==null&&p!=="false",R=vo(s),S=(R.get(g)||0)+1,w=(u.get(g)||0)+1;R.set(g,S),u.set(g,w),a.push(g),S===1&&b&&Ut.add(g),w===1&&g.setAttribute(o,""),!b&&s&&g.setAttribute(s,s==="inert"?"":"true")}})}return Jn++,()=>{a.forEach(h=>{const g=vo(s),b=(g.get(h)||0)-1,R=(u.get(h)||0)-1;g.set(h,b),u.set(h,R),b||(!Ut.has(h)&&s&&h.removeAttribute(s),Ut.delete(h)),R||h.removeAttribute(o)}),Jn--,Jn||(ht.inert=new WeakMap,ht["aria-hidden"]=new WeakMap,ht.none=new WeakMap,Ut=new WeakSet,Kt={})}}function bo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=au(e[0]).body;return du(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Dn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},bn=d.forwardRef(function(t,n){const[r,o]=d.useState();de(()=>{_c()&&o("button")},[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ot("focus-guard")]:"",style:Dn};return x.jsx("span",{...t,...s})}),Bs=d.createContext(null),So=Ot("portal");function fu(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Mr(),o=Us(),[s,i]=d.useState(null),l=d.useRef(null);return de(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{l.current=null})},[s]),de(()=>{if(!r||l.current)return;const c=t?document.getElementById(t):null;if(!c)return;const a=document.createElement("div");a.id=r,a.setAttribute(So,""),c.appendChild(a),l.current=a,i(a)},[t,r]),de(()=>{if(n===null||!r||l.current)return;let c=n||(o==null?void 0:o.portalNode);c&&!fe(c)&&(c=c.current),c=c||document.body;let a=null;t&&(a=document.createElement("div"),a.id=t,c.appendChild(a));const u=document.createElement("div");u.id=r,u.setAttribute(So,""),c=a||c,c.appendChild(u),l.current=u,i(u)},[t,n,r,o]),s}function hu(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,s=fu({id:n,root:r}),[i,l]=d.useState(null),c=d.useRef(null),a=d.useRef(null),u=d.useRef(null),f=d.useRef(null),m=i==null?void 0:i.modal,h=i==null?void 0:i.open,g=!!i&&!i.modal&&i.open&&o&&!!(r||s);return d.useEffect(()=>{if(!s||!o||m)return;function p(b){s&&Tt(b)&&(b.type==="focusin"?uo:Jc)(s)}return s.addEventListener("focusin",p,!0),s.addEventListener("focusout",p,!0),()=>{s.removeEventListener("focusin",p,!0),s.removeEventListener("focusout",p,!0)}},[s,o,m]),d.useEffect(()=>{s&&(h||uo(s))},[h,s]),x.jsxs(Bs.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:a,beforeInsideRef:u,afterInsideRef:f,portalNode:s,setFocusManagerState:l}),[o,s]),children:[g&&s&&x.jsx(bn,{"data-type":"outside",ref:c,onFocus:p=>{if(Tt(p,s)){var b;(b=u.current)==null||b.focus()}else{const R=i?i.domReference:null,S=js(R);S==null||S.focus()}}}),g&&s&&x.jsx("span",{"aria-owns":s.id,style:Dn}),s&&We.createPortal(t,s),g&&s&&x.jsx(bn,{"data-type":"outside",ref:a,onFocus:p=>{if(Tt(p,s)){var b;(b=f.current)==null||b.focus()}else{const R=i?i.domReference:null,S=Vs(R);S==null||S.focus(),i!=null&&i.closeOnFocusOut&&(i==null||i.onOpenChange(!1,p.nativeEvent,"focus-out"))}}})]})}const Us=()=>d.useContext(Bs);function yo(e){return d.useMemo(()=>t=>{e.forEach(n=>{n&&(n.current=t)})},e)}const mu=20;let nt=[];function pu(e){nt=nt.filter(t=>t.isConnected),e&&Ze(e)!=="body"&&(nt.push(e),nt.length>mu&&(nt=nt.slice(-20)))}function xo(){return nt.slice().reverse().find(e=>e.isConnected)}function gu(e){const t=Dt();return Ns(e,t)?e:kn(e,t)[0]||e}function Ro(e,t){var n;if(!t.current.includes("floating")&&!((n=e.getAttribute("role"))!=null&&n.includes("dialog")))return;const r=Dt(),s=Dc(e,r).filter(l=>{const c=l.getAttribute("data-tabindex")||"";return Ns(l,r)||l.hasAttribute("data-tabindex")&&!c.startsWith("-")}),i=e.getAttribute("tabindex");t.current.includes("floating")||s.length===0?i!=="0"&&e.setAttribute("tabindex","0"):(i!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const vu=d.forwardRef(function(t,n){return x.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:Dn})});function bu(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:s=!0,initialFocus:i=0,returnFocus:l=!0,restoreFocus:c=!1,modal:a=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:f=!0,outsideElementsInert:m=!1,getInsideElements:h=()=>[]}=e,{open:g,onOpenChange:p,events:b,dataRef:R,elements:{domReference:S,floating:w}}=t,y=pe(()=>{var V;return(V=R.current.floatingContext)==null?void 0:V.nodeId}),T=pe(h),v=typeof i=="number"&&i<0,I=hr(S)&&v,M=cu(),O=M?s:!0,E=!O||M&&m,D=De(o),B=De(i),U=De(l),N=Nn(),C=Us(),j=d.useRef(null),_=d.useRef(null),A=d.useRef(!1),P=d.useRef(!1),F=d.useRef(-1),q=C!=null,L=vn(w),X=pe(function(V){return V===void 0&&(V=L),V?kn(V,Dt()):[]}),ee=pe(V=>{const Y=X(V);return D.current.map($=>S&&$==="reference"?S:L&&$==="floating"?L:Y).filter(Boolean).flat()});d.useEffect(()=>{if(r||!a)return;function V($){if($.key==="Tab"){Te(L,Ye(ke(L)))&&X().length===0&&!I&&be($);const W=ee(),ie=Ge($);D.current[0]==="reference"&&ie===S&&(be($),$.shiftKey?tt(W[W.length-1]):tt(W[1])),D.current[1]==="floating"&&ie===L&&$.shiftKey&&(be($),tt(W[0]))}}const Y=ke(L);return Y.addEventListener("keydown",V),()=>{Y.removeEventListener("keydown",V)}},[r,S,L,a,D,I,X,ee]),d.useEffect(()=>{if(r||!w)return;function V(Y){const $=Ge(Y),ie=X().indexOf($);ie!==-1&&(F.current=ie)}return w.addEventListener("focusin",V),()=>{w.removeEventListener("focusin",V)}},[r,w,X]),d.useEffect(()=>{if(r||!f)return;function V(){P.current=!0,setTimeout(()=>{P.current=!1})}function Y($){const W=$.relatedTarget,ie=$.currentTarget,le=Ge($);queueMicrotask(()=>{const ge=y(),ve=!(Te(S,W)||Te(w,W)||Te(W,w)||Te(C==null?void 0:C.portalNode,W)||W!=null&&W.hasAttribute(Ot("focus-guard"))||N&&(ft(N.nodesRef.current,ge).find(Q=>{var te,Ee;return Te((te=Q.context)==null?void 0:te.elements.floating,W)||Te((Ee=Q.context)==null?void 0:Ee.elements.domReference,W)})||lo(N.nodesRef.current,ge).find(Q=>{var te,Ee,H;return[(te=Q.context)==null?void 0:te.elements.floating,vn((Ee=Q.context)==null?void 0:Ee.elements.floating)].includes(W)||((H=Q.context)==null?void 0:H.elements.domReference)===W})));if(ie===S&&L&&Ro(L,D),c&&ie!==S&&!(le!=null&&le.isConnected)&&Ye(ke(L))===ke(L).body){me(L)&&L.focus();const Q=F.current,te=X(),Ee=te[Q]||te[te.length-1]||L;me(Ee)&&Ee.focus()}if(R.current.insideReactTree){R.current.insideReactTree=!1;return}(I||!a)&&W&&ve&&!P.current&&W!==xo()&&(A.current=!0,p(!1,$,"focus-out"))})}if(w&&me(S))return S.addEventListener("focusout",Y),S.addEventListener("pointerdown",V),w.addEventListener("focusout",Y),()=>{S.removeEventListener("focusout",Y),S.removeEventListener("pointerdown",V),w.removeEventListener("focusout",Y)}},[r,S,w,L,a,N,C,p,f,c,X,I,y,D,R]);const we=d.useRef(null),ne=d.useRef(null),se=yo([we,C==null?void 0:C.beforeInsideRef]),ce=yo([ne,C==null?void 0:C.afterInsideRef]);d.useEffect(()=>{var V,Y;if(r||!w)return;const $=Array.from((C==null||(V=C.portalNode)==null?void 0:V.querySelectorAll("["+Ot("portal")+"]"))||[]),W=N?lo(N.nodesRef.current,y()):[],ie=N&&!a?W.map(Q=>{var te;return(te=Q.context)==null?void 0:te.elements.floating}):[],le=(Y=W.find(Q=>{var te;return hr(((te=Q.context)==null?void 0:te.elements.domReference)||null)}))==null||(Y=Y.context)==null?void 0:Y.elements.domReference,ge=[w,le,...$,...ie,...T(),j.current,_.current,we.current,ne.current,C==null?void 0:C.beforeOutsideRef.current,C==null?void 0:C.afterOutsideRef.current,D.current.includes("reference")||I?S:null].filter(Q=>Q!=null),ve=a||I?bo(ge,!E,E):bo(ge);return()=>{ve()}},[r,S,w,a,D,C,I,O,E,N,y,T]),de(()=>{if(r||!me(L))return;const V=ke(L),Y=Ye(V);queueMicrotask(()=>{const $=ee(L),W=B.current,ie=(typeof W=="number"?$[W]:W.current)||L,le=Te(L,Y);!v&&!le&&g&&tt(ie,{preventScroll:ie===L})})},[r,g,L,v,ee,B]),de(()=>{if(r||!L)return;const V=ke(L),Y=Ye(V);pu(Y);function $(le){let{reason:ge,event:ve,nested:Q}=le;if(["hover","safe-polygon"].includes(ge)&&ve.type==="mouseleave"&&(A.current=!0),ge==="outside-press")if(Q)A.current=!1;else if(Ls(ve)||Hs(ve))A.current=!1;else{let te=!1;document.createElement("div").focus({get preventScroll(){return te=!0,!1}}),te?A.current=!1:A.current=!0}}b.on("openchange",$);const W=V.createElement("span");W.setAttribute("tabindex","-1"),W.setAttribute("aria-hidden","true"),Object.assign(W.style,Dn),q&&S&&S.insertAdjacentElement("afterend",W);function ie(){if(typeof U.current=="boolean"){const le=S||xo();return le&&le.isConnected?le:W}return U.current.current||W}return()=>{b.off("openchange",$);const le=Ye(V),ge=Te(w,le)||N&&ft(N.nodesRef.current,y()).some(Q=>{var te;return Te((te=Q.context)==null?void 0:te.elements.floating,le)}),ve=ie();queueMicrotask(()=>{const Q=gu(ve);U.current&&!A.current&&me(Q)&&(!(Q!==le&&le!==V.body)||ge)&&Q.focus({preventScroll:!0}),W.remove()})}},[r,w,L,U,R,b,N,q,S,y]),d.useEffect(()=>{queueMicrotask(()=>{A.current=!1})},[r]),de(()=>{if(!r&&C)return C.setFocusManagerState({modal:a,closeOnFocusOut:f,open:g,onOpenChange:p,domReference:S}),()=>{C.setFocusManagerState(null)}},[r,C,a,g,p,f,S]),de(()=>{r||L&&Ro(L,D)},[r,L,D]);function Ce(V){return r||!u||!a?null:x.jsx(vu,{ref:V==="start"?j:_,onClick:Y=>p(!1,Y.nativeEvent),children:typeof u=="string"?u:"Dismiss"})}const K=!r&&O&&(a?!I:!0)&&(q||a);return x.jsxs(x.Fragment,{children:[K&&x.jsx(bn,{"data-type":"inside",ref:se,onFocus:V=>{if(a){const $=ee();tt(o[0]==="reference"?$[0]:$[$.length-1])}else if(C!=null&&C.preserveTabOrder&&C.portalNode)if(A.current=!1,Tt(V,C.portalNode)){const $=Vs(S);$==null||$.focus()}else{var Y;(Y=C.beforeOutsideRef.current)==null||Y.focus()}}}),!I&&Ce("start"),n,Ce("end"),K&&x.jsx(bn,{"data-type":"inside",ref:ce,onFocus:V=>{if(a)tt(ee()[0]);else if(C!=null&&C.preserveTabOrder&&C.portalNode)if(f&&(A.current=!0),Tt(V,C.portalNode)){const $=js(S);$==null||$.focus()}else{var Y;(Y=C.afterOutsideRef.current)==null||Y.focus()}}})]})}let Yt=0;const wo="--floating-ui-scrollbar-width";function Su(){const e=Ds(),t=/iP(hone|ad|od)|iOS/.test(e)||e==="MacIntel"&&navigator.maxTouchPoints>1,n=document.body.style,o=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,i=n.left?parseFloat(n.left):window.scrollX,l=n.top?parseFloat(n.top):window.scrollY;if(n.overflow="hidden",n.setProperty(wo,s+"px"),s&&(n[o]=s+"px"),t){var c,a;const u=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,f=((a=window.visualViewport)==null?void 0:a.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(l-Math.floor(f))+"px",left:-(i-Math.floor(u))+"px",right:"0"})}return()=>{Object.assign(n,{overflow:"",[o]:""}),n.removeProperty(wo),t&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(i,l))}}let Co=()=>{};const yu=d.forwardRef(function(t,n){const{lockScroll:r=!1,...o}=t;return de(()=>{if(r)return Yt++,Yt===1&&(Co=Su()),()=>{Yt--,Yt===0&&Co()}},[r]),x.jsx("div",{ref:n,...o,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}})});function To(e){return me(e.target)&&e.target.tagName==="BUTTON"}function xu(e){return me(e.target)&&e.target.tagName==="A"}function Eo(e){return _s(e)}function Ru(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:s}}=e,{enabled:i=!0,event:l="click",toggle:c=!0,ignoreMouse:a=!1,keyboardHandlers:u=!0,stickIfOpen:f=!0}=t,m=d.useRef(),h=d.useRef(!1),g=d.useMemo(()=>({onPointerDown(p){m.current=p.pointerType},onMouseDown(p){const b=m.current;p.button===0&&l!=="click"&&(ao(b)&&a||(n&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="mousedown")?r(!1,p.nativeEvent,"click"):(p.preventDefault(),r(!0,p.nativeEvent,"click"))))},onClick(p){const b=m.current;if(l==="mousedown"&&m.current){m.current=void 0;return}ao(b)&&a||(n&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="click")?r(!1,p.nativeEvent,"click"):r(!0,p.nativeEvent,"click"))},onKeyDown(p){m.current=void 0,!(p.defaultPrevented||!u||To(p))&&(p.key===" "&&!Eo(s)&&(p.preventDefault(),h.current=!0),!xu(p)&&p.key==="Enter"&&r(!(n&&c),p.nativeEvent,"click"))},onKeyUp(p){p.defaultPrevented||!u||To(p)||Eo(s)||p.key===" "&&h.current&&(h.current=!1,r(!(n&&c),p.nativeEvent,"click"))}}),[o,s,l,a,u,r,n,f,c]);return d.useMemo(()=>i?{reference:g}:{},[i,g])}const wu={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Cu={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Io=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Tu(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:s}=e,{enabled:i=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:a="pointerdown",referencePress:u=!1,referencePressEvent:f="pointerdown",ancestorScroll:m=!1,bubbles:h,capture:g}=t,p=Nn(),b=pe(typeof c=="function"?c:()=>!1),R=typeof c=="function"?b:c,S=d.useRef(!1),{escapeKey:w,outsidePress:y}=Io(h),{escapeKey:T,outsidePress:v}=Io(g),I=d.useRef(!1),M=d.useRef(-1),O=pe(C=>{var j;if(!n||!i||!l||C.key!=="Escape"||I.current)return;const _=(j=s.current.floatingContext)==null?void 0:j.nodeId,A=p?ft(p.nodesRef.current,_):[];if(!w&&(C.stopPropagation(),A.length>0)){let P=!0;if(A.forEach(F=>{var q;if((q=F.context)!=null&&q.open&&!F.context.dataRef.current.__escapeKeyBubbles){P=!1;return}}),!P)return}r(!1,$c(C)?C.nativeEvent:C,"escape-key")}),E=pe(C=>{var j;const _=()=>{var A;O(C),(A=Ge(C))==null||A.removeEventListener("keydown",_)};(j=Ge(C))==null||j.addEventListener("keydown",_)}),D=pe(C=>{var j;const _=s.current.insideReactTree;s.current.insideReactTree=!1;const A=S.current;if(S.current=!1,a==="click"&&A||_||typeof R=="function"&&!R(C))return;const P=Ge(C),F="["+Ot("inert")+"]",q=ke(o.floating).querySelectorAll(F);let L=fe(P)?P:null;for(;L&&!je(L);){const ne=$e(L);if(je(ne)||!fe(ne))break;L=ne}if(q.length&&fe(P)&&!jc(P)&&!Te(P,o.floating)&&Array.from(q).every(ne=>!Te(L,ne)))return;if(me(P)&&N){const ne=je(P),se=Fe(P),ce=/auto|scroll/,Ce=ne||ce.test(se.overflowX),K=ne||ce.test(se.overflowY),V=Ce&&P.clientWidth>0&&P.scrollWidth>P.clientWidth,Y=K&&P.clientHeight>0&&P.scrollHeight>P.clientHeight,$=se.direction==="rtl",W=Y&&($?C.offsetX<=P.offsetWidth-P.clientWidth:C.offsetX>P.clientWidth),ie=V&&C.offsetY>P.clientHeight;if(W||ie)return}const X=(j=s.current.floatingContext)==null?void 0:j.nodeId,ee=p&&ft(p.nodesRef.current,X).some(ne=>{var se;return Zn(C,(se=ne.context)==null?void 0:se.elements.floating)});if(Zn(C,o.floating)||Zn(C,o.domReference)||ee)return;const we=p?ft(p.nodesRef.current,X):[];if(we.length>0){let ne=!0;if(we.forEach(se=>{var ce;if((ce=se.context)!=null&&ce.open&&!se.context.dataRef.current.__outsidePressBubbles){ne=!1;return}}),!ne)return}r(!1,C,"outside-press")}),B=pe(C=>{var j;const _=()=>{var A;D(C),(A=Ge(C))==null||A.removeEventListener(a,_)};(j=Ge(C))==null||j.addEventListener(a,_)});d.useEffect(()=>{if(!n||!i)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=y;let C=-1;function j(q){r(!1,q,"ancestor-scroll")}function _(){window.clearTimeout(C),I.current=!0}function A(){C=window.setTimeout(()=>{I.current=!1},Mn()?5:0)}const P=ke(o.floating);l&&(P.addEventListener("keydown",T?E:O,T),P.addEventListener("compositionstart",_),P.addEventListener("compositionend",A)),R&&P.addEventListener(a,v?B:D,v);let F=[];return m&&(fe(o.domReference)&&(F=Xe(o.domReference)),fe(o.floating)&&(F=F.concat(Xe(o.floating))),!fe(o.reference)&&o.reference&&o.reference.contextElement&&(F=F.concat(Xe(o.reference.contextElement)))),F=F.filter(q=>{var L;return q!==((L=P.defaultView)==null?void 0:L.visualViewport)}),F.forEach(q=>{q.addEventListener("scroll",j,{passive:!0})}),()=>{l&&(P.removeEventListener("keydown",T?E:O,T),P.removeEventListener("compositionstart",_),P.removeEventListener("compositionend",A)),R&&P.removeEventListener(a,v?B:D,v),F.forEach(q=>{q.removeEventListener("scroll",j)}),window.clearTimeout(C)}},[s,o,l,R,a,n,r,m,i,w,y,O,T,E,D,v,B]),d.useEffect(()=>{s.current.insideReactTree=!1},[s,R,a]);const U=d.useMemo(()=>({onKeyDown:O,...u&&{[wu[f]]:C=>{r(!1,C.nativeEvent,"reference-press")},...f!=="click"&&{onClick(C){r(!1,C.nativeEvent,"reference-press")}}}}),[O,r,u,f]),N=d.useMemo(()=>({onKeyDown:O,onMouseDown(){S.current=!0},onMouseUp(){S.current=!0},[Cu[a]]:()=>{s.current.insideReactTree=!0},onBlurCapture(){p||(mr(M),s.current.insideReactTree=!0,M.current=window.setTimeout(()=>{s.current.insideReactTree=!1}))}}),[O,a,s,p]);return d.useMemo(()=>i?{reference:U,floating:N}:{},[i,U,N])}function Eu(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Mr(),s=d.useRef({}),[i]=d.useState(()=>su()),l=Or()!=null,[c,a]=d.useState(r.reference),u=pe((h,g,p)=>{s.current.openEvent=h?g:void 0,i.emit("openchange",{open:h,event:g,reason:p,nested:l}),n==null||n(h,g,p)}),f=d.useMemo(()=>({setPositionReference:a}),[]),m=d.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return d.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:m,events:i,floatingId:o,refs:f}),[t,u,m,i,o,f])}function Ks(e){e===void 0&&(e={});const{nodeId:t}=e,n=Eu({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,i]=d.useState(null),[l,c]=d.useState(null),u=(o==null?void 0:o.domReference)||s,f=d.useRef(null),m=Nn();de(()=>{u&&(f.current=u)},[u]);const h=bc({...e,elements:{...o,...l&&{reference:l}}}),g=d.useCallback(w=>{const y=fe(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;c(y),h.refs.setReference(y)},[h.refs]),p=d.useCallback(w=>{(fe(w)||w===null)&&(f.current=w,i(w)),(fe(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!fe(w))&&h.refs.setReference(w)},[h.refs]),b=d.useMemo(()=>({...h.refs,setReference:p,setPositionReference:g,domReference:f}),[h.refs,p,g]),R=d.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),S=d.useMemo(()=>({...h,...r,refs:b,elements:R,nodeId:t}),[h,b,R,t,r]);return de(()=>{r.dataRef.current.floatingContext=S;const w=m==null?void 0:m.nodesRef.current.find(y=>y.id===t);w&&(w.context=S)}),d.useMemo(()=>({...h,context:S,refs:b,elements:R}),[h,b,R,S])}function er(e,t,n){const r=new Map,o=n==="item";let s=e;if(o&&e){const{[fo]:i,[ho]:l,...c}=e;s=c}return{...n==="floating"&&{tabIndex:-1,[eu]:""},...s,...t.map(i=>{const l=i?i[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((i,l)=>(l&&Object.entries(l).forEach(c=>{let[a,u]=c;if(!(o&&[fo,ho].includes(a)))if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var f;(f=r.get(a))==null||f.push(u),i[a]=function(){for(var m,h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];return(m=r.get(a))==null?void 0:m.map(b=>b(...g)).find(b=>b!==void 0)}}}else i[a]=u}),i),{})}}function Iu(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=d.useCallback(l=>er(l,e,"reference"),t),s=d.useCallback(l=>er(l,e,"floating"),n),i=d.useCallback(l=>er(l,e,"item"),r);return d.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:i}),[o,s,i])}const Au="Escape";function _n(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Gt(e,t){return _n(t,e===Ws||e===Fn,e===_t||e===Lt)}function tr(e,t,n){return _n(t,e===Fn,n?e===_t:e===Lt)||e==="Enter"||e===" "||e===""}function Ao(e,t,n){return _n(t,n?e===_t:e===Lt,e===Fn)}function Mo(e,t,n,r){const o=n?e===Lt:e===_t,s=e===Ws;return t==="both"||t==="horizontal"&&r&&r>1?e===Au:_n(t,o,s)}function Mu(e,t){const{open:n,onOpenChange:r,elements:o,floatingId:s}=e,{listRef:i,activeIndex:l,onNavigate:c=()=>{},enabled:a=!0,selectedIndex:u=null,allowEscape:f=!1,loop:m=!1,nested:h=!1,rtl:g=!1,virtual:p=!1,focusItemOnOpen:b="auto",focusItemOnHover:R=!0,openOnArrowKeyDown:S=!0,disabledIndices:w=void 0,orientation:y="vertical",parentOrientation:T,cols:v=1,scrollItemIntoView:I=!0,virtualItemRef:M,itemSizes:O,dense:E=!1}=t,D=vn(o.floating),B=De(D),U=Or(),N=Nn();de(()=>{e.dataRef.current.orientation=y},[e,y]);const C=pe(()=>{c(A.current===-1?null:A.current)}),j=hr(o.domReference),_=d.useRef(b),A=d.useRef(u??-1),P=d.useRef(null),F=d.useRef(!0),q=d.useRef(C),L=d.useRef(!!o.floating),X=d.useRef(n),ee=d.useRef(!1),we=d.useRef(!1),ne=De(w),se=De(n),ce=De(I),Ce=De(u),[K,V]=d.useState(),[Y,$]=d.useState(),W=pe(()=>{function H(oe){if(p){var ue;(ue=oe.id)!=null&&ue.endsWith("-fui-option")&&(oe.id=s+"-"+Math.random().toString(16).slice(2,10)),V(oe.id),N==null||N.events.emit("virtualfocus",oe),M&&(M.current=oe)}else tt(oe,{sync:ee.current,preventScroll:!0})}const Z=i.current[A.current],z=we.current;Z&&H(Z),(ee.current?oe=>oe():requestAnimationFrame)(()=>{const oe=i.current[A.current]||Z;if(!oe)return;Z||H(oe);const ue=ce.current;ue&&le&&(z||!F.current)&&(oe.scrollIntoView==null||oe.scrollIntoView(typeof ue=="boolean"?{block:"nearest",inline:"nearest"}:ue))})});de(()=>{a&&(n&&o.floating?_.current&&u!=null&&(we.current=!0,A.current=u,C()):L.current&&(A.current=-1,q.current()))},[a,n,o.floating,u,C]),de(()=>{if(a&&n&&o.floating)if(l==null){if(ee.current=!1,Ce.current!=null)return;if(L.current&&(A.current=-1,W()),(!X.current||!L.current)&&_.current&&(P.current!=null||_.current===!0&&P.current==null)){let H=0;const Z=()=>{i.current[0]==null?(H<2&&(H?requestAnimationFrame:queueMicrotask)(Z),H++):(A.current=P.current==null||tr(P.current,y,g)||h?Qn(i,ne.current):co(i,ne.current),P.current=null,C())};Z()}}else Ct(i,l)||(A.current=l,W(),we.current=!1)},[a,n,o.floating,l,Ce,h,i,y,g,C,W,ne]),de(()=>{var H;if(!a||o.floating||!N||p||!L.current)return;const Z=N.nodesRef.current,z=(H=Z.find(ue=>ue.id===U))==null||(H=H.context)==null?void 0:H.elements.floating,re=Ye(ke(o.floating)),oe=Z.some(ue=>ue.context&&Te(ue.context.elements.floating,re));z&&!oe&&F.current&&z.focus({preventScroll:!0})},[a,o.floating,N,U,p]),de(()=>{if(!a||!N||!p||U)return;function H(Z){$(Z.id),M&&(M.current=Z)}return N.events.on("virtualfocus",H),()=>{N.events.off("virtualfocus",H)}},[a,N,p,U,M]),de(()=>{q.current=C,X.current=n,L.current=!!o.floating}),de(()=>{n||(P.current=null,_.current=b)},[n,b]);const ie=l!=null,le=d.useMemo(()=>{function H(z){if(!se.current)return;const re=i.current.indexOf(z);re!==-1&&A.current!==re&&(A.current=re,C())}return{onFocus(z){let{currentTarget:re}=z;ee.current=!0,H(re)},onClick:z=>{let{currentTarget:re}=z;return re.focus({preventScroll:!0})},...R&&{onMouseMove(z){let{currentTarget:re}=z;ee.current=!0,we.current=!1,H(re)},onPointerLeave(z){let{pointerType:re}=z;if(!(!F.current||re==="touch")&&(ee.current=!0,A.current=-1,C(),!p)){var oe;(oe=B.current)==null||oe.focus({preventScroll:!0})}}}}},[se,B,R,i,C,p]),ge=d.useCallback(()=>{var H;return T??(N==null||(H=N.nodesRef.current.find(Z=>Z.id===U))==null||(H=H.context)==null||(H=H.dataRef)==null?void 0:H.current.orientation)},[U,N,T]),ve=pe(H=>{if(F.current=!1,ee.current=!0,H.which===229||!se.current&&H.currentTarget===B.current)return;if(h&&Mo(H.key,y,g,v)){Gt(H.key,ge())||be(H),r(!1,H.nativeEvent,"list-navigation"),me(o.domReference)&&(p?N==null||N.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const Z=A.current,z=Qn(i,w),re=co(i,w);if(j||(H.key==="Home"&&(be(H),A.current=z,C()),H.key==="End"&&(be(H),A.current=re,C())),v>1){const oe=O||Array.from({length:i.current.length},()=>({width:1,height:1})),ue=Xc(oe,v,E),Ue=ue.findIndex(J=>J!=null&&!Qt(i,J,w)),st=ue.reduce((J,Se,Qe)=>Se!=null&&!Qt(i,Se,w)?Qe:J,-1),G=ue[qc({current:ue.map(J=>J!=null?i.current[J]:null)},{event:H,orientation:y,loop:m,rtl:g,cols:v,disabledIndices:Qc([...(typeof w!="function"?w:null)||i.current.map((J,Se)=>Qt(i,Se,w)?Se:void 0),void 0],ue),minIndex:Ue,maxIndex:st,prevIndex:Zc(A.current>re?z:A.current,oe,ue,v,H.key===Fn?"bl":H.key===(g?_t:Lt)?"tr":"tl"),stopEvent:!0})];if(G!=null&&(A.current=G,C()),y==="both")return}if(Gt(H.key,y)){if(be(H),n&&!p&&Ye(H.currentTarget.ownerDocument)===H.currentTarget){A.current=tr(H.key,y,g)?z:re,C();return}tr(H.key,y,g)?m?A.current=Z>=re?f&&Z!==i.current.length?-1:z:ye(i,{startingIndex:Z,disabledIndices:w}):A.current=Math.min(re,ye(i,{startingIndex:Z,disabledIndices:w})):m?A.current=Z<=z?f&&Z!==-1?i.current.length:re:ye(i,{startingIndex:Z,decrement:!0,disabledIndices:w}):A.current=Math.max(z,ye(i,{startingIndex:Z,decrement:!0,disabledIndices:w})),Ct(i,A.current)&&(A.current=-1),C()}}),Q=d.useMemo(()=>p&&n&&ie&&{"aria-activedescendant":Y||K},[p,n,ie,Y,K]),te=d.useMemo(()=>({"aria-orientation":y==="both"?void 0:y,...j?{}:Q,onKeyDown:ve,onPointerMove(){F.current=!0}}),[Q,ve,y,j]),Ee=d.useMemo(()=>{function H(z){b==="auto"&&Ls(z.nativeEvent)&&(_.current=!0)}function Z(z){_.current=b,b==="auto"&&Hs(z.nativeEvent)&&(_.current=!0)}return{...Q,onKeyDown(z){F.current=!1;const re=z.key.startsWith("Arrow"),oe=["Home","End"].includes(z.key),ue=re||oe,Ue=Ao(z.key,y,g),st=Mo(z.key,y,g,v),G=Ao(z.key,ge(),g),J=Gt(z.key,y),Se=(h?G:J)||z.key==="Enter"||z.key.trim()==="";if(p&&n){const Je=N==null?void 0:N.nodesRef.current.find(xe=>xe.parentId==null),Oe=N&&Je?Wc(N.nodesRef.current,Je.id):null;if(ue&&Oe&&M){const xe=new KeyboardEvent("keydown",{key:z.key,bubbles:!0});if(Ue||st){var Qe,it;const Ie=((Qe=Oe.context)==null?void 0:Qe.elements.domReference)===z.currentTarget,Ne=st&&!Ie?(it=Oe.context)==null?void 0:it.elements.domReference:Ue?i.current.find(Pe=>(Pe==null?void 0:Pe.id)===K):null;Ne&&(be(z),Ne.dispatchEvent(xe),$(void 0))}if((J||oe)&&Oe.context&&Oe.context.open&&Oe.parentId&&z.currentTarget!==Oe.context.elements.domReference){var Ht;be(z),(Ht=Oe.context.elements.domReference)==null||Ht.dispatchEvent(xe);return}}return ve(z)}if(!(!n&&!S&&re)){if(Se){const Je=Gt(z.key,ge());P.current=h&&Je?null:z.key}if(h){G&&(be(z),n?(A.current=Qn(i,ne.current),C()):r(!0,z.nativeEvent,"list-navigation"));return}J&&(u!=null&&(A.current=u),be(z),!n&&S?r(!0,z.nativeEvent,"list-navigation"):ve(z),n&&C())}},onFocus(){n&&!p&&(A.current=-1,C())},onPointerDown:Z,onPointerEnter:Z,onMouseDown:H,onClick:H}},[K,Q,v,ve,ne,b,i,h,C,r,n,S,y,ge,g,u,N,p,M]);return d.useMemo(()=>a?{reference:Ee,floating:te,item:le}:{},[a,Ee,te,le])}const Ou=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Pu(e,t){var n,r;t===void 0&&(t={});const{open:o,elements:s,floatingId:i}=e,{enabled:l=!0,role:c="dialog"}=t,a=Mr(),u=((n=s.domReference)==null?void 0:n.id)||a,f=d.useMemo(()=>{var S;return((S=vn(s.floating))==null?void 0:S.id)||i},[s.floating,i]),m=(r=Ou.get(c))!=null?r:c,g=Or()!=null,p=d.useMemo(()=>m==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:o?f:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":m==="alertdialog"?"dialog":m,"aria-controls":o?f:void 0,...m==="listbox"&&{role:"combobox"},...m==="menu"&&{id:u},...m==="menu"&&g&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[m,f,g,o,u,c]),b=d.useMemo(()=>{const S={id:f,...m&&{role:m}};return m==="tooltip"||c==="label"?S:{...S,...m==="menu"&&{"aria-labelledby":u}}},[m,f,u,c]),R=d.useCallback(S=>{let{active:w,selected:y}=S;const T={role:"option",...w&&{id:f+"-fui-option"}};switch(c){case"select":return{...T,"aria-selected":w&&y};case"combobox":return{...T,"aria-selected":y}}return{}},[f,c]);return d.useMemo(()=>l?{reference:p,floating:b,item:R}:{},[l,p,b,R])}function ku(e,t){var n;const{open:r,dataRef:o}=e,{listRef:s,activeIndex:i,onMatch:l,onTypingChange:c,enabled:a=!0,findMatch:u=null,resetMs:f=750,ignoreKeys:m=[],selectedIndex:h=null}=t,g=d.useRef(-1),p=d.useRef(""),b=d.useRef((n=h??i)!=null?n:-1),R=d.useRef(null),S=pe(l),w=pe(c),y=De(u),T=De(m);de(()=>{r&&(mr(g),R.current=null,p.current="")},[r]),de(()=>{if(r&&p.current===""){var E;b.current=(E=h??i)!=null?E:-1}},[r,h,i]);const v=pe(E=>{E?o.current.typing||(o.current.typing=E,w(E)):o.current.typing&&(o.current.typing=E,w(E))}),I=pe(E=>{function D(j,_,A){const P=y.current?y.current(_,A):_.find(F=>(F==null?void 0:F.toLocaleLowerCase().indexOf(A.toLocaleLowerCase()))===0);return P?j.indexOf(P):-1}const B=s.current;if(p.current.length>0&&p.current[0]!==" "&&(D(B,B,p.current)===-1?v(!1):E.key===" "&&be(E)),B==null||T.current.includes(E.key)||E.key.length!==1||E.ctrlKey||E.metaKey||E.altKey)return;r&&E.key!==" "&&(be(E),v(!0)),B.every(j=>{var _,A;return j?((_=j[0])==null?void 0:_.toLocaleLowerCase())!==((A=j[1])==null?void 0:A.toLocaleLowerCase()):!0})&&p.current===E.key&&(p.current="",b.current=R.current),p.current+=E.key,mr(g),g.current=window.setTimeout(()=>{p.current="",b.current=R.current,v(!1)},f);const N=b.current,C=D(B,[...B.slice((N||0)+1),...B.slice(0,(N||0)+1)],p.current);C!==-1?(S(C),R.current=C):E.key!==" "&&(p.current="",v(!1))}),M=d.useMemo(()=>({onKeyDown:I}),[I]),O=d.useMemo(()=>({onKeyDown:I,onKeyUp(E){E.key===" "&&v(!1)}}),[I,v]);return d.useMemo(()=>a?{reference:M,floating:O}:{},[a,M,O])}function Oo(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Fu=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:s=0,index:i=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:a,...u}=Cn(e,t),{rects:f,elements:{floating:m}}=t,h=n.current[i],g=(a==null?void 0:a.current)||m,p=m.clientTop||g.clientTop,b=m.clientTop!==0,R=g.clientTop!==0,S=m===g;if(!h)return{};const w={...t,...await Ir(-h.offsetTop-m.clientTop-f.reference.height/2-h.offsetHeight/2-s).fn(t)},y=await Yn(Oo(w,g.scrollHeight+p+m.clientTop),u),T=await Yn(w,{...u,elementContext:"reference"}),v=Re(0,y.top),I=w.y+v,E=(g.scrollHeight>g.clientHeight?D=>D:Mt)(Re(0,g.scrollHeight+(b&&S||R?p*2:0)-v-Re(0,y.bottom)));if(g.style.maxHeight=E+"px",g.scrollTop=v,o){const D=g.offsetHeight<h.offsetHeight*mt(l,n.current.length)-1||T.top>=-c||T.bottom>=-c;We.flushSync(()=>o(D))}return r&&(r.current=await Yn(Oo({...w,y:I},g.offsetHeight+p+m.clientTop),u)),{y:I}}});function Nu(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:s,scrollRef:i,onChange:l}=t,c=pe(l),a=d.useRef(!1),u=d.useRef(null),f=d.useRef(null);d.useEffect(()=>{if(!o)return;function h(p){if(p.ctrlKey||!g||s.current==null)return;const b=p.deltaY,R=s.current.top>=-.5,S=s.current.bottom>=-.5,w=g.scrollHeight-g.clientHeight,y=b<0?-1:1,T=b<0?"max":"min";g.scrollHeight<=g.clientHeight||(!R&&b>0||!S&&b<0?(p.preventDefault(),We.flushSync(()=>{c(v=>v+Math[T](b,w*y))})):/firefox/i.test(Ar())&&(g.scrollTop+=b))}const g=(i==null?void 0:i.current)||r.floating;if(n&&g)return g.addEventListener("wheel",h),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{u.current=null,f.current=null,g.removeEventListener("wheel",h)}},[o,n,r.floating,s,i,c]);const m=d.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const h=(i==null?void 0:i.current)||r.floating;if(!(!s.current||!h||!a.current)){if(u.current!==null){const g=h.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&We.flushSync(()=>c(p=>p+g))}requestAnimationFrame(()=>{u.current=h.scrollTop})}}}),[r.floating,c,s,i]);return d.useMemo(()=>o?{floating:m}:{},[o,m])}const Du=he(br,{name:"Separator",borderColor:"$borderColor",flexShrink:0,borderWidth:0,flex:1,height:0,maxHeight:0,borderBottomWidth:1,y:-.5,variants:{vertical:{true:{y:0,x:-.5,height:"initial",maxHeight:"initial",width:0,maxWidth:0,borderBottomWidth:0,borderRightWidth:1}}}});function _u(e,t,n){let r,o=!1;function s(){o=!1;const i=arguments;n&&!r&&e.apply(this,i),clearTimeout(r),r=setTimeout(()=>{r=null,n||o||e.apply(this,i),o=!1},t)}return s.cancel=()=>{o=!0},s}const Lu={leading:!1};function Hu(e,t,n=Lu,r=[e]){const o=d.useRef(null);return d.useEffect(()=>()=>{var s;(s=o.current)==null||s.cancel()},[]),d.useMemo(()=>(o.current=_u(e,t,n.leading),o.current),[n.leading,...r])}const{Provider:Pr,useStyledContext:Be}=Pt(null,"Select"),{Provider:kr,useStyledContext:Ve}=Pt(null,"SelectItem"),zu=({context:e,itemContext:t,children:n})=>x.jsx(Pr,{isInSheet:!0,scope:e.scopeName,...e,children:x.jsx(kr,{scope:e.scopeName,...t,children:n})}),Ys=e=>{const t=Ft(e.adaptScope);return e.open===!1?!1:t},Vu=({children:e,scope:t,zIndex:n=1e3,...r})=>{const o=Be(t),s=Ve(t),i=Zo(),l=Ys(o),c=x.jsx(Wo,{forceClassName:!0,name:i,children:e}),a=Jo(),u=k.useMemo(()=>({zIndex:n,pointerEvents:o.open?"auto":"none"}),[o.open]);return s.shouldRenderWebNative?x.jsx(x.Fragment,{children:e}):l?o.open?x.jsx(x.Fragment,{children:c}):null:x.jsx(hu,{children:x.jsx(yu,{style:u,lockScroll:!o.disablePreventBodyScroll&&!!o.open&&!a,children:x.jsx(Zl,{loop:!0,enabled:!!o.open,trapped:!0,...r,children:c})})})},Po=8,ju="SelectViewport",Wu=e=>{const{scope:t,children:n,open:r=!1,listContentRef:o}=e,s=Be(t),i=Ve(t),{setActiveIndex:l,selectedIndex:c,activeIndex:a}=s,{setOpen:u,setSelectedIndex:f}=i,[m,h]=d.useState(0),g=Jo(),p=d.useRef([]),b=d.useRef(null),R=d.useRef(null),S=d.useRef(null),w=d.useRef(!1),y=d.useRef(!0),T=d.useRef(null),v=d.useRef({isMouseOutside:!1,isTyping:!1}),[I,M]=d.useState(!1),[O,E]=d.useState(!1),[D,B]=d.useState(0),[U,N]=d.useState(!1),C=d.useRef({});ae(()=>{queueMicrotask(()=>{r||(h(0),E(!1),l(null),M(!1))})},[r,l]),gt&&ae(()=>{if(!r)return;const K=V=>{v.current.isMouseOutside&&u(!1)};return document.addEventListener("mouseup",K),()=>{document.removeEventListener("mouseup",K)}},[r]);const{x:j,y:_,strategy:A,context:P,refs:F,update:q}=Ks({open:r,onOpenChange:u,placement:"bottom-start",whileElementsMounted:Es,middleware:[Sc({apply({rects:{reference:{width:K}}}){Object.assign(C.current,{minWidth:K+8}),F.floating.current&&Object.assign(F.floating.current.style,C.current)}}),Fu({listRef:p,overflowRef:b,index:c,offset:D,onFallbackChange:E,padding:10,minItemsVisible:g?10:4,referenceOverflowThreshold:20}),Ir({crossAxis:-5})]}),L=F.floating,X=r&&m>Po,ee=r&&L.current&&m<L.current.scrollHeight-L.current.clientHeight-Po,we=ee||X;ae(()=>(window.addEventListener("resize",q),r&&q(),()=>window.removeEventListener("resize",q)),[q,r]);const ne=He(K=>(r?l:f)(K)),se=[Ru(P,{event:"mousedown",keyboardHandlers:!1}),Tu(P,{outsidePress:!1}),Pu(P,{role:"listbox"}),Nu(P,{enabled:!O&&we,onChange:B,overflowRef:b,scrollRef:F.floating}),Mu(P,{listRef:p,activeIndex:a||0,selectedIndex:c,onNavigate:l,scrollItemIntoView:!1}),ku(P,{listRef:o,onMatch:ne,selectedIndex:c,activeIndex:a,onTypingChange:K=>{v.current.isTyping=K}})],ce=Iu(d.useMemo(()=>se,se)),Ce=d.useMemo(()=>({...ce,getReferenceProps(){return ce.getReferenceProps({ref:F.reference,className:"SelectTrigger",onKeyDown(K){(K.key==="Enter"||K.code==="Space"||K.key===" "&&!v.current.isTyping)&&(K.preventDefault(),u(!0))}})},getFloatingProps(K){return ce.getFloatingProps({ref:F.floating,className:"Select",...K,style:{position:A,top:_??"",left:j??"",outline:0,scrollbarWidth:"none",...C.current,...K==null?void 0:K.style},onPointerEnter(){M(!1),v.current.isMouseOutside=!1},onPointerLeave(){v.current.isMouseOutside=!0},onPointerMove(){v.current.isMouseOutside=!1,M(!1)},onKeyDown(){M(!0)},onContextMenu(V){V.preventDefault()},onScroll(V){We.flushSync(()=>{h(V.currentTarget.scrollTop)})}})}}),[F.reference.current,j,_,F.floating.current,ce]);return ae(()=>{if(r)return T.current=setTimeout(()=>{w.current=!0},300),()=>{clearTimeout(T.current)};w.current=!1,y.current=!0,B(0),E(!1),N(!1)},[r]),ae(()=>{!r&&v.current.isMouseOutside&&(v.current.isMouseOutside=!1)},[r]),ae(()=>{function K(V){var $,W,ie;const Y=V.target;($=F.floating.current)!=null&&$.contains(Y)||(W=R.current)!=null&&W.contains(Y)||(ie=S.current)!=null&&ie.contains(Y)||(u(!1),M(!1))}if(r)return document.addEventListener("pointerdown",K),()=>{document.removeEventListener("pointerdown",K)}},[r,F,u]),d.useEffect(()=>{var K,V;r&&I&&a!=null&&((K=p.current[a])==null||K.scrollIntoView({block:"nearest"})),h(((V=F.floating.current)==null?void 0:V.scrollTop)??0)},[r,F,I,a]),d.useEffect(()=>{var K;r&&O&&c!=null&&((K=p.current[c])==null||K.scrollIntoView({block:"nearest"}))},[r,O,c]),ae(()=>{F.floating.current&&O&&(F.floating.current.style.maxHeight="")},[F,O]),x.jsx(Pr,{scope:t,...s,setScrollTop:h,setInnerOffset:B,fallback:O,floatingContext:P,activeIndex:a,canScrollDown:!!ee,canScrollUp:!!X,controlledScrolling:I,blockSelection:U,upArrowRef:R,downArrowRef:S,update:q,children:x.jsx(kr,{scope:t,...i,allowMouseUpRef:y,allowSelectRef:w,dataRef:P.dataRef,interactions:Ce,listRef:p,selectTimeoutRef:T,children:n})})},Gs="SelectItem",{Provider:$u,useStyledContext:qs}=Pt(null,Gs),Bu=dn.styleable(function(e,t){const{scope:n,value:r,disabled:o=!1,textValue:s,index:i,...l}=e,{props:c}=ps({...!e.unstyled&&{ellipse:!0},...l}),a=Ve(n),{setSelectedIndex:u,listRef:f,setOpen:m,onChange:h,activeIndexSubscribe:g,valueSubscribe:p,allowMouseUpRef:b,allowSelectRef:R,setValueAtIndex:S,selectTimeoutRef:w,dataRef:y,interactions:T,shouldRenderWebNative:v,size:I,onActiveChange:M,initialValue:O}=a,[E,D]=d.useState(O===r);d.useEffect(()=>g(_=>{var A;i===_&&(M(r,i),(A=f==null?void 0:f.current[i])==null||A.focus())}),[i]),d.useEffect(()=>p(_=>{D(_===r)}),[r]);const B=d.useId(),U=d.useCallback(_=>{_ instanceof HTMLElement&&f&&(f.current[i]=_)},[]),N=Le(t,U);ae(()=>{S(i,r)},[i,S,r]);function C(){u(i),h(r),m(!1)}const j=d.useMemo(()=>T?T.getItemProps({onTouchMove(){R.current=!0,b.current=!1},onTouchEnd(){R.current=!1,b.current=!0},onKeyDown(_){_.key==="Enter"||_.key===" "&&!(y!=null&&y.current.typing)?(_.preventDefault(),C()):R.current=!0},onClick(){R.current&&C()},onMouseUp(){b.current&&(R.current&&C(),clearTimeout(w.current),w.current=setTimeout(()=>{R.current=!0}))}}):{onPress:C},[C]);return x.jsx($u,{scope:n,value:r,textId:B||"",isSelected:E,children:v?x.jsx("option",{value:r,children:e.children}):x.jsx(dn,{tag:"div",componentName:Gs,ref:N,"aria-labelledby":B,"aria-selected":E,"data-state":E?"active":"inactive","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...!e.unstyled&&{backgrounded:!0,pressTheme:!0,hoverTheme:!0,focusTheme:!0,cursor:"default",size:I,outlineOffset:-.5,focusVisibleStyle:{outlineColor:"$outlineColor",outlineWidth:1,outlineStyle:"solid"}},...c,...j})})},{disableTheme:!0});var Uu={};const Xs="SelectItemText",ko=he(vt,{name:Xs,variants:{unstyled:{false:{userSelect:"none",color:"$color",ellipse:!0}}},defaultVariants:{unstyled:Uu.TAMAGUI_HEADLESS==="1"}}),Ku=ko.styleable(function(e,t){const{scope:n,className:r,...o}=e,s=Be(n),i=Ve(n),l=d.useRef(null),c=Le(t,l),a=qs(n),u=d.useRef(null);return u.current=x.jsx(ko,{className:r,size:i.size,id:a.textId,...o,ref:c}),ae(()=>{i.initialValue===a.value&&!s.selectedIndex&&s.setSelectedItem(u.current)},[]),ae(()=>i.valueSubscribe(f=>{f===a.value&&s.setSelectedItem(u.current)}),[a.value]),i.shouldRenderWebNative?x.jsx(x.Fragment,{children:e.children}):x.jsx(x.Fragment,{children:u.current})}),Zs="SelectScrollUpButton",Qs=d.forwardRef((e,t)=>x.jsx(ti,{componentName:Zs,...e,dir:"up",ref:t}));Qs.displayName=Zs;const Js="SelectScrollDownButton",ei=d.forwardRef((e,t)=>x.jsx(ti,{componentName:Js,...e,dir:"down",ref:t}));ei.displayName=Js;const ti=d.memo(d.forwardRef((e,t)=>{var v,I;const{scope:n,dir:r,componentName:o,...s}=e,{forceUpdate:i,open:l,fallback:c,setScrollTop:a,setInnerOffset:u,...f}=Be(n),m=(v=f.floatingContext)==null?void 0:v.refs.floating,h=d.useRef("idle"),g=f[r==="down"?"canScrollDown":"canScrollUp"],p=d.useRef(null),{x:b,y:R,refs:S,strategy:w}=Ks({open:l&&g,strategy:"fixed",elements:{reference:m==null?void 0:m.current},placement:r==="up"?"top":"bottom",middleware:[Ir(({rects:M})=>-M.floating.height)],whileElementsMounted:(...M)=>Es(...M,{animationFrame:!0})}),y=Le(t,S.setFloating);if(!g)return null;const T=M=>{const O=m;O&&(c?O.current&&(O.current.scrollTop-=M,We.flushSync(()=>{var E;return a(((E=O.current)==null?void 0:E.scrollTop)??0)})):We.flushSync(()=>u(E=>E-M)))};return x.jsx(kt,{ref:y,componentName:o,"aria-hidden":!0,...s,zIndex:1e3,position:w,left:b||0,top:R||0,width:`calc(${(((I=m==null?void 0:m.current)==null?void 0:I.offsetWidth)??0)-2}px)`,onPointerEnter:()=>{h.current="active";let M=Date.now();function O(){const E=m==null?void 0:m.current;if(E){const D=Date.now(),B=D-M;M=D;const U=B/2,N=r==="up"?E.scrollTop:E.scrollHeight-E.clientHeight-E.scrollTop,C=r==="up"?E.scrollTop-U>0:E.scrollTop+U<E.scrollHeight-E.clientHeight;T(r==="up"?Math.min(U,N):Math.max(-U,-N)),C&&(p.current=requestAnimationFrame(O))}}cancelAnimationFrame(p.current),p.current=requestAnimationFrame(O)},onPointerLeave:()=>{h.current="idle",cancelAnimationFrame(p.current)}})})),Yu="SelectTrigger",Gu=gt?window.matchMedia("(pointer:coarse)").matches:!0,qu=d.forwardRef(function(e,t){var a;const{scope:n,disabled:r=!1,unstyled:o=!1,...s}=e,i=Be(n),l=Ve(n),c=Le(t,(a=i.floatingContext)==null?void 0:a.refs.setReference);return l.shouldRenderWebNative?null:x.jsx(gs,{componentName:Yu,unstyled:o,tag:"button",type:"button",id:l.id,...!o&&{backgrounded:!0,radiused:!0,hoverTheme:!0,pressTheme:!0,focusable:!0,focusVisibleStyle:{outlineStyle:"solid",outlineWidth:2,outlineColor:"$outlineColor"},borderWidth:1,size:l.size},"aria-expanded":i.open,"aria-autocomplete":"none",dir:i.dir,disabled:r,"data-disabled":r?"":void 0,...s,ref:c,...l.interactions?{...l.interactions.getReferenceProps(),...Gu?{onPress(){l.setOpen(!i.open)}}:{onMouseDown(){var u;(u=i.floatingContext)==null||u.update(),l.setOpen(!i.open)}}}:{onPress(){l.setOpen(!i.open)}}})});var Xu={};const Fo=he(yn,{name:ju,variants:{unstyled:{false:{size:"$2",backgroundColor:"$background",elevate:!0,bordered:!0,userSelect:"none",outlineWidth:0}},size:{"...size":(e,{tokens:t})=>({borderRadius:t.radius[e]??e})}},defaultVariants:{unstyled:Xu.TAMAGUI_HEADLESS==="1"}}),Zu=jo&&!Mi,Qu=Fo.styleable(function(e,t){var h;const{scope:n,children:r,disableScroll:o,...s}=e,i=Be(n),l=Ve(n),c=Ft(i.adaptScope),a=Le(t,(h=i.floatingContext)==null?void 0:h.refs.setFloating);if(ae(()=>{i.update&&i.update()},[c]),l.shouldRenderWebNative)return x.jsx(x.Fragment,{children:r});if(c||!Jt){let g=r;return Zu&&(g=x.jsx(zu,{itemContext:l,context:i,children:g})),x.jsx(zl,{scope:i.adaptScope,children:g})}if(!l.interactions)return null;const{style:u,className:f,...m}=l.interactions.getFloatingProps();return x.jsxs(x.Fragment,{children:[!o&&!e.unstyled&&x.jsx("style",{dangerouslySetInnerHTML:{__html:Ju}}),x.jsx(yr,{children:i.open?x.jsx(bu,{context:i.floatingContext,modal:!1,children:x.jsx(Fo,{size:l.size,role:"presentation",...s,...u,...m,...!e.unstyled&&{overflowY:o?void 0:u.overflow??"auto"},ref:a,children:r},"select-viewport")}):null}),!i.open&&x.jsx("div",{style:{display:"none"},children:e.children})]})}),Ju=`
.is_SelectViewport {
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

.is_SelectViewport::-webkit-scrollbar{
  display:none
}
`,ed="SelectValue",No=he(vt,{name:ed,userSelect:"none"}),td=No.styleable(function({scope:e,children:t,placeholder:n,...r},o){const s=Be(e),i=Ve(e),l=Le(o,s.onValueNodeChange),c=t??s.selectedItem,a=s.value==null||s.value===""?n??c:c;return x.jsx(No,{...!r.unstyled&&{size:i.size,ellipse:!0,pointerEvents:"none"},ref:l,...r,children:ni(a)})});function ni(e){return d.Children.map(e,t=>{var n,r,o;if(t){if(((r=(n=t.type)==null?void 0:n.staticConfig)==null?void 0:r.componentName)===Xs)return t.props.children;if((o=t.props)!=null&&o.children)return ni(t.props.children)}return t})}const nd=he(Sr,{name:"SelectIcon","aria-hidden":!0,children:x.jsx(Fl,{children:"▼"})}),rd=he(Sr,{name:"SelectItemIndicator"}),od=d.forwardRef(function(e,t){const{scope:n,...r}=e,o=Ve(n),s=qs(n);return o.shouldRenderWebNative?null:s.isSelected?x.jsx(rd,{"aria-hidden":!0,...r,ref:t}):null}),ri="SelectGroup",{Provider:sd,useStyledContext:id}=Pt({id:""},"SelectGroup"),ld=he(kt,{name:ri,width:"100%"}),ad=he(vt,{tag:"select",backgroundColor:"$background",borderColor:"$borderColor",hoverStyle:{backgroundColor:"$backgroundHover"}}),cd=he(yn,{name:"NativeSelect",bordered:!0,userSelect:"none",outlineWidth:0,paddingRight:10,variants:{size:{"...size":(e,t)=>{const{tokens:n}=t,r=$o(n.space[e]);return{borderRadius:n.radius[e]??e,minHeight:n.size[e],paddingRight:r+20,paddingLeft:r,paddingVertical:es(e,{shift:-3})}}}},defaultVariants:{size:"$2"}}),oi=d.forwardRef((e,t)=>{const{scope:n,...r}=e,o=d.useId(),s=Be(n),i=Ve(n),l=i.size??"$true",c=d.useRef(null),a=i.shouldRenderWebNative?x.jsx(cd,{asChild:!0,size:l,value:s.value,id:i.id,children:x.jsx(ad,{onChange:u=>{i.onChange(u.currentTarget.value)},size:l,ref:c,style:{color:"var(--color)",appearance:"none"},children:e.children})}):x.jsx(ld,{role:"group","aria-labelledby":o,...r,ref:t});return x.jsx(sd,{scope:n,id:o||"",children:a})});oi.displayName=ri;const si="SelectLabel",ii=d.forwardRef((e,t)=>{const{scope:n,...r}=e,o=Ve(n),s=id(n);return o.shouldRenderWebNative?null:x.jsx(gs,{tag:"div",componentName:si,fontWeight:"800",id:s.id,size:o.size,...r,ref:t})});ii.displayName=si;he(Du,{name:"SelectSeparator"});const ud=e=>{const t=Be(e.scope),n=Ys(t),r=Ft(t.adaptScope),o=Xo(n);return x.jsx(wa,{onOpenChange:s=>{o()&&e.onOpenChange(s)},open:t.open,hidden:!r,children:e.children})},dd=e=>x.jsx(x.Fragment,{children:e.children});Et(function(e){const t=`AdaptSelect${e.scope||""}`;return x.jsx(Ll,{scope:t,portal:!0,children:x.jsx(fd,{scope:e.scope,adaptScope:t,...e})})},{Adapt:Hl,Content:Vu,Group:oi,Icon:nd,Item:Bu,ItemIndicator:od,ItemText:Ku,Label:ii,ScrollDownButton:ei,ScrollUpButton:Qs,Trigger:qu,Value:td,Viewport:Qu,Sheet:Ra.Controlled,FocusScope:Xl});function Do(){const e=d.useRef(null);e.current||(e.current=new Set);const t=r=>{e.current.forEach(o=>o(r))},n=d.useCallback(r=>(e.current.add(r),()=>{e.current.delete(r)}),[]);return[t,n]}function fd(e){const{scope:t="",adaptScope:n,native:r,children:o,open:s,defaultOpen:i,onOpenChange:l,value:c,defaultValue:a,onValueChange:u,disablePreventBodyScroll:f,size:m="$true",onActiveChange:h,dir:g,id:p}=e,b=Ft(n)||!Jt?dd:Wu,R=d.useReducer(()=>({}),{})[1],[S,w]=d.useState(null),[y,T]=It({prop:s,defaultProp:i||!1,onChange:l}),[v,I]=It({prop:c,defaultProp:a||"",onChange:u,transition:!0});d.useEffect(()=>{y&&E(v)},[y]),d.useEffect(()=>{E(v)},[v]);const[M,O]=d.useState(0),[E,D]=Do(),[B,U]=Do(),N=d.useRef(null),C=d.useRef(null),j=d.useRef([]),[_,A]=d.useState(0),[P,F]=d.useState(null);ae(()=>{N.current=_,C.current=M});const q=r===!0||r==="web"||Array.isArray(r)&&r.includes("web"),L=Hu(X=>{O(ee=>ee!==X?(typeof X=="number"&&B(X),X):ee)},1,{},[]);return x.jsx(kr,{scopeName:t,scope:t,adaptScope:n,initialValue:d.useMemo(()=>v,[y]),size:m,activeIndexSubscribe:U,valueSubscribe:D,setOpen:T,id:p,onChange:d.useCallback(X=>{I(X),E(X)},[]),onActiveChange:He((X,ee)=>{h==null||h(X,ee)}),setSelectedIndex:A,setValueAtIndex:d.useCallback((X,ee)=>{j.current[X]=ee},[]),shouldRenderWebNative:q,children:x.jsx(Pr,{scope:t,scopeName:t,adaptScope:n,disablePreventBodyScroll:f,dir:g,blockSelection:!1,fallback:!1,selectedItem:S,setSelectedItem:w,forceUpdate:R,valueNode:P,onValueNodeChange:F,activeIndex:M,selectedIndex:_,setActiveIndex:L,value:v,open:y,native:r,children:x.jsx(ud,{onOpenChange:T,scope:t,children:q?o:x.jsx(b,{activeIndexRef:C,listContentRef:j,selectedIndexRef:N,...e,open:y,value:v,children:o})})})})}const li={width:800,height:600,scale:1,fontScale:1};var hd={};let Rt=li,nr=null;function md(){if(!gt)return li;nr||(nr=window.document.documentElement);const e={fontScale:1,height:nr.clientHeight,scale:window.devicePixelRatio||1,width:nr.clientWidth};return e.height!==Rt.height||e.width!==Rt.width||e.scale!==Rt.scale?(Rt=e,e):Rt}const pd=new Set;if(gt){let e=function(){t=Date.now(),pd.forEach(i=>i(md()))},t=Date.now(),n;const r=hd.TAMAGUI_USE_WINDOW_DIMENSIONS_MAX_UPDATE_MS,o=r?+r:100,s=()=>{clearTimeout(n);const i=Date.now()-t;i<o?setTimeout(()=>{e()},o-i):e()};window.addEventListener("resize",s)}export{Gi as E,Go as F,sn as I,ma as S,rn as T,xn as a,vt as b,Ed as c,es as g,He as u};
