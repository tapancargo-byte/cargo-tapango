import{q as ne,u as ue,_ as xe,e as Ie,V as Ue,r as _e,s as ke}from"./index-CwZLkw8e.js";import{r as E,R as De}from"./index-D_zSVikN.js";import{c as ie}from"./async-storage-C2wsiYfb.js";import{u as Ae}from"./index-CrNYAGWA.js";import{j as le}from"./jsx-runtime-BjG_zV1W.js";var Fe=()=>{};function Ke(){var e=!1;if(ie)try{var n={};Object.defineProperty(n,"passive",{get(){return e=!0,!1}}),window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return e}var Ne=Ke();function Be(e){return e==null?!1:Ne?e:!!e.capture}function Re(){return this.cancelBubble}function Ve(){return this.defaultPrevented}function je(e){return e.nativeEvent=e,e.persist=Fe,e.isDefaultPrevented=Ve,e.isPropagationStopped=Re,e}function i(e,n,t,o){var a=Be(o),u=s=>t(je(s));return e.addEventListener(n,u,a),function(){e!=null&&e.removeEventListener(n,u,a)}}var We=()=>typeof window<"u"&&window.PointerEvent!=null,m="keyboard",l="keyboard",U,_,k=!1,Ye=new Set,D="keyboard",g="mouse",X="touch",$e="blur",ve="contextmenu",Ge="focus",Xe="keydown",ce="mousedown",de="mousemove",fe="mouseup",ye="pointerdown",me="pointermove",Ee="scroll",Pe="selectionchange",be="touchcancel",pe="touchmove",Oe="touchstart",qe="visibilitychange",te={passive:!0},c={capture:!0,passive:!0};function he(){(U!=null||_!=null)&&(U!=null&&(l=U,U=null),_!=null&&(m=_,_=null),O())}function ze(){U=l,_=m,m=D,l=D,O(),k=!1}function Je(){he()}function Qe(e){e.metaKey||e.altKey||e.ctrlKey||l!==D&&(l=D,m=D,O())}function Ze(){document.visibilityState!=="hidden"&&he()}function y(e){var n=e.type;if(We()){if(n===ye){m!==e.pointerType&&(l=e.pointerType,m=e.pointerType,O());return}if(n===me){l!==e.pointerType&&(l=e.pointerType,O());return}}else{if(k||(n===ce&&m!==g&&(l=g,m=g,O()),n===de&&l!==g&&(l=g,O())),n===Oe){k=!0,e.touches&&e.touches.length>1&&(k=!1),m!==X&&(l=X,m=X,O());return}(n===ve||n===fe||n===Pe||n===Ee||n===be||n===pe)&&(k=!1)}}ie&&(i(window,$e,ze,te),i(window,Ge,Je,te),i(document,Xe,Qe,c),i(document,qe,Ze,c),i(document,ye,y,c),i(document,me,y,c),i(document,ve,y,c),i(document,ce,y,c),i(document,de,y,c),i(document,fe,y,c),i(document,be,y,c),i(document,pe,y,c),i(document,Oe,y,c),i(document,Pe,y,c),i(document,Ee,y,c));function O(){var e={activeModality:m,modality:l};Ye.forEach(n=>{n(e)})}function en(){return l}function x(e,n){var t=ne(()=>new Map),o=ne(()=>(a,u)=>{var s=t.get(a);s!=null&&s(),u==null&&(t.delete(a),u=()=>{});var v=i(a,e,u,n);return t.set(a,v),v});return ue(()=>()=>{t.forEach(a=>{a()}),t.clear()},[t]),o}var nn={},I={passive:!0},re="react-gui:hover:lock",oe="react-gui:hover:unlock",tn=()=>typeof window<"u"&&window.PointerEvent!=null;function ae(e,n,t){var o=document.createEvent("CustomEvent"),a=nn,u=a.bubbles,s=u===void 0?!0:u,v=a.cancelable,P=v===void 0?!0:v,b=a.detail;o.initCustomEvent(n,s,P,b),e.dispatchEvent(o)}function q(e){var n=e.pointerType;return n??en()}function rn(e,n){var t=n.contain,o=n.disabled,a=n.onHoverStart,u=n.onHoverChange,s=n.onHoverUpdate,v=n.onHoverEnd,P=tn(),b=x(P?"pointermove":"mousemove",I),A=x(P?"pointerenter":"mouseenter",I),H=x(P?"pointerleave":"mouseleave",I),L=x(re,I),S=x(oe,I);ue(()=>{var p=e.current;if(p!==null){var T=function(r){v!=null&&v(r),u!=null&&u(!1),b(p,null),H(p,null)},F=function(r){var d=e.current;d!=null&&q(r)!=="touch"&&(t&&ae(d,oe),T(r))},K=function(r){q(r)!=="touch"&&s!=null&&(r.x==null&&(r.x=r.clientX),r.y==null&&(r.y=r.clientY),s(r))},w=function(r){a!=null&&a(r),u!=null&&u(!0),s!=null&&b(p,o?null:K),H(p,o?null:F)},N=function(r){var d=e.current;if(d!=null&&q(r)!=="touch"){t&&ae(d,re),w(r);var B=function(M){M.target!==d&&T(r)},V=function(M){M.target!==d&&w(r)};L(d,o?null:B),S(d,o?null:V)}};A(p,o?null:N)}},[A,b,H,L,S,t,o,a,u,s,v,e])}var on=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function an(e,n){var t=e.children,o=e.delayLongPress,a=e.delayPressIn,u=e.delayPressOut,s=e.disabled,v=e.onBlur,P=e.onContextMenu,b=e.onFocus,A=e.onHoverIn,H=e.onHoverOut,L=e.onKeyDown,S=e.onLongPress,p=e.onPress,T=e.onPressMove,F=e.onPressIn,K=e.onPressOut,w=e.style,N=e.tabIndex,C=e.testOnly_hovered,r=e.testOnly_pressed,d=xe(e,on),B=z(C===!0),V=B[0],j=B[1],M=z(!1),Le=M[0],R=M[1],Q=z(r===!0),we=Q[0],Z=Q[1],h=E.useRef(null),Ce=Ie(n,h),Me=E.useMemo(()=>({delayLongPress:o,delayPressStart:a,delayPressEnd:u,disabled:s,onLongPress:S,onPress:p,onPressChange:Z,onPressStart:F,onPressMove:T,onPressEnd:K}),[o,a,u,s,S,p,F,T,K,Z]),W=Ae(h,Me),Y=W.onContextMenu,$=W.onKeyDown;rn(h,{contain:!0,disabled:s,onHoverChange:j,onHoverStart:A,onHoverEnd:H});var ee={hovered:V,focused:Le,pressed:we},He=E.useCallback(f=>{f.nativeEvent.target===h.current&&(R(!1),v!=null&&v(f))},[h,R,v]),Se=E.useCallback(f=>{f.nativeEvent.target===h.current&&(R(!0),b!=null&&b(f))},[h,R,b]),Te=E.useCallback(f=>{Y!=null&&Y(f),P!=null&&P(f)},[P,Y]),ge=E.useCallback(f=>{$!=null&&$(f),L!=null&&L(f)},[L,$]),G;return N!==void 0?G=N:G=s?-1:0,E.createElement(Ue,_e({},d,W,{"aria-disabled":s,onBlur:He,onContextMenu:Te,onFocus:Se,onKeyDown:ge,ref:Ce,style:[s?se.disabled:se.active,typeof w=="function"?w(ee):w],tabIndex:G}),typeof t=="function"?t(ee):t)}function z(e){var n=E.useState(!1),t=n[0],o=n[1];return[t||e,o]}var se=ke.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),sn=E.memo(E.forwardRef(an));sn.displayName="Pressable";const J=e=>Array.isArray(e)?Object.assign({},...e):e,En=e=>({value:e}),Pn=e=>e,bn=e=>({}),un=({style:e,children:n,...t})=>le.jsx("div",{...t,style:J(e),children:n}),ln=({style:e,children:n,...t})=>le.jsx("span",{...t,style:J(e),children:n}),vn=e=>n=>{const{style:t,...o}=n||{};return De.createElement(e,{...o,style:J(t)})},pn={View:un,Text:ln,createAnimatedComponent:vn};export{pn as A,sn as M,En as a,bn as u,Pn as w};
